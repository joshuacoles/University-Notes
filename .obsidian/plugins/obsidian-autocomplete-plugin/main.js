'use strict';

var obsidian = require('obsidian');

/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/* global Reflect, Promise */

var extendStatics = function(d, b) {
    extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
    return extendStatics(d, b);
};

function __extends(d, b) {
    extendStatics(d, b);
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
}

var __assign = function() {
    __assign = Object.assign || function __assign(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};

function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

function __generator(thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
}

var Provider = /** @class */ (function () {
    function Provider() {
    }
    Provider.prototype.matchWith = function (input) {
        var _this = this;
        // TODO: Improve filtering with weights
        var suggestions = this.completions.filter(function (val) { return val.includes(input); })
            .map(function (sugg) {
            return { category: _this.category, value: sugg };
        })
            .sort(function (a, b) { return a.value.length - b.value.length; });
        return suggestions;
    };
    Provider.wordSeparatorRegex = /(\.|,|;|:|'|"|!|\?|-|\)|\]|\}|\/| |Enter)/;
    Provider.placeholder = '#{}';
    return Provider;
}());

function defaultDirection() {
    return { index: 0, direction: 'still' };
}
function lastWordStartPos(text, index) {
    var wordStartIndex = index;
    var wordRegex = /[\w$]+/;
    while (wordStartIndex && wordRegex.test(text.charAt(wordStartIndex - 1)))
        wordStartIndex -= 1;
    return wordStartIndex;
}
function lastWordIn(editor) {
    var cursor = editor.getCursor();
    var currentLine = editor.getLine(cursor.line);
    var word = lastWordFrom(currentLine, cursor.ch);
    return word;
}
function lastWordFrom(line, cursorIndex) {
    var wordStartIndex = lastWordStartPos(line, cursorIndex);
    var word = null;
    if (wordStartIndex !== cursorIndex)
        word = line.slice(wordStartIndex, cursorIndex);
    return word;
}
function managePlaceholders(selectedValue, initialCursorIndex) {
    var normalizedValue;
    var placeholder = Provider.placeholder;
    var newCursorPosition = initialCursorIndex;
    var placeholderIndex = selectedValue.indexOf(placeholder);
    if (placeholderIndex > -1) {
        // TODO: Manage multiple placeholders
        var placeholderRegex = new RegExp(placeholder, 'g');
        normalizedValue = selectedValue.replace(placeholderRegex, '');
        newCursorPosition += placeholderIndex;
    }
    else {
        normalizedValue = selectedValue;
        newCursorPosition += selectedValue.length;
    }
    return { normalizedValue: normalizedValue, newCursorPosition: newCursorPosition };
}
function updateSelectedSuggestionFrom(event, selected, suggestionsLength) {
    var updatedSelected = selected;
    switch (event.ctrlKey + " " + event.key) {
        case 'true p':
        case 'false ArrowUp':
            var decreased = selected.index - 1;
            updatedSelected = {
                index: decreased < 0 ? suggestionsLength - 1 : decreased,
                direction: 'backward'
            };
            break;
        case 'true n':
        case 'false ArrowDown':
            var increased = selected.index + 1;
            updatedSelected = {
                index: increased >= suggestionsLength ? 0 : increased,
                direction: 'forward'
            };
            break;
    }
    return updatedSelected;
}
function copyObject(obj) {
    return __assign({}, obj);
}

function generateView(suggestions, selectedIndex) {
    var suggestionsHtml = suggestions.map(function (tip, index) {
        var isSelected = selectedIndex === index;
        return "\n        <div id=\"suggestion-" + index + "\" class=\"no-space-wrap suggestion-item" + (isSelected ? ' is-selected' : '') + "\">\n          <div id=\"suggestion-" + index + "\" class=\"suggestion-content\">\n          <span class=\"suggestion-flair\">" + tip.category + "</span>\n          " + tip.value + "\n          </div>\n        </div>\n      ";
    }, []);
    var suggestionsJoined = suggestionsHtml.join('\n');
    var viewString = "\n      <div id=\"suggestion-list\" class=\"suggestion\">\n        " + (suggestionsJoined.length > 0
        ? suggestionsJoined
        : '<div class="no-suggestions">No match found</div>') + "\n      </div>\n      <div class=\"prompt-instructions\">\n        <div class=\"prompt-instruction\">\n          <span class=\"prompt-instruction-command\">Ctrl+N /\u2191 </span>\n          <span>Next Suggestion</span>\n        </div>\n        <div class=\"prompt-instruction\">\n          <span class=\"prompt-instruction-command\">Ctrl+P /\u2193 </span>\n          <span>Previous Suggestion</span>\n        </div>\n        <div class=\"prompt-instruction\">\n          <span class=\"prompt-instruction-command\">Enter</span>\n          <span>Select Suggestion</span>\n        </div>\n      </div>\n    ";
    var containerNode = document.createElement('div');
    containerNode.classList.add('suggestion-container');
    containerNode.insertAdjacentHTML('beforeend', viewString);
    return containerNode;
}
function updateCachedView(view, selectedIndex) {
    var _a;
    var children = (_a = view.firstElementChild) === null || _a === void 0 ? void 0 : _a.children;
    if (!children)
        return;
    for (var index = 0; index < children.length; index++) {
        var child = children[index];
        child.toggleClass('is-selected', index === selectedIndex);
    }
}
function scrollTo(selected, view, suggestionsLength) {
    if (!view || suggestionsLength === 0)
        return;
    // TODO: Improve scrolling with page size and boundaries
    var parent = view.children[0];
    var selectedIndex = selected.index;
    var child = parent.children[0];
    if (child) {
        var scrollAmount = child.scrollHeight * selectedIndex;
        switch (selected.direction) {
            case 'forward':
                if (selectedIndex === 0)
                    // End -> Start
                    parent.scrollTop = 0;
                else
                    parent.scrollTop = scrollAmount;
                break;
            case 'backward':
                if (selectedIndex === suggestionsLength - 1)
                    // End <- Start
                    parent.scrollTop = parent.scrollHeight;
                else
                    parent.scrollTop = scrollAmount;
                break;
        }
    }
}
function appendWidget(editor, view, scrollable) {
    if (scrollable === void 0) { scrollable = true; }
    var cursor = editor.getCursor();
    editor.addWidget({ ch: cursor.ch, line: cursor.line }, view, scrollable);
}

var FlowProvider = /** @class */ (function (_super) {
    __extends(FlowProvider, _super);
    function FlowProvider() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.category = 'F';
        _this.completions = [];
        return _this;
    }
    FlowProvider.prototype.addCompletionWord = function (line, cursorIndex) {
        var _a = this.normalizedLine(line, cursorIndex), normalized = _a.normalized, updatedCursor = _a.updatedCursor;
        var word = lastWordFrom(normalized, updatedCursor);
        if (!word || this.alreadyAdded(word))
            return;
        this.completions.push(word);
    };
    FlowProvider.prototype.normalizedLine = function (line, cursorIndex) {
        var partialLine = line.slice(0, cursorIndex);
        var normalized = partialLine.trimEnd();
        // Subtract how many spaces removed
        var updatedCursor = cursorIndex - (partialLine.length - normalized.length);
        if (normalized.length === 0)
            return { normalized: '', updatedCursor: 0 };
        var lastChar = normalized.charAt(updatedCursor - 1);
        if (Provider.wordSeparatorRegex.test(lastChar)) {
            updatedCursor -= 1;
            normalized = normalized.slice(0, updatedCursor);
        }
        return { normalized: normalized, updatedCursor: updatedCursor };
    };
    FlowProvider.prototype.alreadyAdded = function (word) {
        return this.completions.includes(word);
    };
    return FlowProvider;
}(Provider));

var LaTexProvider = /** @class */ (function (_super) {
    __extends(LaTexProvider, _super);
    function LaTexProvider() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.category = "L";
        _this.completions = ["\\Arrowvert", "\\Bbbk", "\\Big", "\\Bigg", "\\Biggl", "\\Biggr", "\\Bigl", "\\Bigm", "\\Bigr", "\\Box", "\\Bumpeq", "\\Cap", "\\cite[#{}]{#{}}", "\\cite", "\\Cup", "\\DeclareMathOperator{#{}}{#{}}", "\\Delta", "\\Downarrow", "\\Finv", "\\Game", "\\Gamma", "\\Im", "\\Lambda", "\\Leftarrow", "\\Leftrightarrow", "\\Lleftarrow", "\\Longleftarrow", "\\Longleftrightarrow", "\\Longrightarrow", "\\Lsh", "\\Omega", "\\Phi", "\\Pi", "\\Pr", "\\Psi", "\\Re", "\\Rightarrow", "\\Rrightarrow", "\\Rsh", "\\S", "\\Sigma", "\\Subset", "\\Supset", "\\TeX", "\\Theta", "\\Uparrow", "\\Updownarrow", "\\Upsilon", "\\Vdash", "\\Vert", "\\Vvdash", "\\Xi", "\\above", "\\abovewithdelims", "\\acute{#{}}", "\\aleph", "\\alpha", "\\amalg", "\\angle", "\\approx", "\\approxeq", "\\arccos", "\\arcsin", "\\arctan", "\\arg", "\\arrowvert", "\\ast", "\\asymp", "\\atop",
            "\\atopwithdelims", "\\backepsilon", "\\backprime", "\\backsim", "\\backsimeq", "\\backslash", "\\bar{#{}}", "\\barwedge", "\\because", "\\beta", "\\beth", "\\between", "\\bf", "\\big", "\\bigcap", "\\bigcirc", "\\bigcup", "\\bigg", "\\biggl", "\\biggm", "\\biggr", "\\bigl", "\\bigm", "\\bigodot", "\\bigoplus", "\\bigotimes", "\\bigr\\}", "\\bigsqcup", "\\bigstar", "\\bigtriangledown", "\\bigtriangleup", "\\biguplus", "\\bigvee", "\\bigwedge", "\\binom{#{}}{#{}}", "\\blacklozenge", "\\blacksquare", "\\blacktriangle", "\\blacktriangledown", "\\blacktriangleleft", "\\blacktriangleright", "\\bmod", "\\boldsymbol{#{}}", "\\bot", "\\bowtie", "\\boxdot", "\\boxed{#{}}", "\\boxminus", "\\boxplus", "\\boxtimes", "\\brace", "\\bracevert", "\\brack", "\\breve{#{}}", "\\buildrel", "\\bullet", "\\bumpeq", "\\cal", "\\cap", "\\cases{#{}}", "\\cdot", "\\cdotp", "\\cdots",
            "\\centerdot", "\\cfrac{#{}}{#{}}", "\\check{#{}}", "\\checkmark", "\\chi", "\\choose", "\\circ", "\\circeq", "\\circlearrowleft", "\\circlearrowright", "\\circledS", "\\circledast", "\\circledcirc", "\\circleddash", "\\clubsuit", "\\colon", "\\complement", "\\cong", "\\coprod", "\\cos", "\\cosh", "\\cot", "\\coth", "\\cr", "\\csc", "\\cup", "\\curlyeqprec", "\\curlyeqsucc", "\\curlyvee", "\\curlywedge", "\\curvearrowleft", "\\curvearrowright", "\\dagger", "\\daleth", "\\dashleftarrow", "\\dashrightarrow", "\\dashv", "\\dbinom{#{}}{#{}}", "\\ddagger", "\\ddddot{#{}}", "\\dddot{#{}}", "\\ddot{#{}}", "\\ddots", "\\def", "\\deg", "\\delta", "\\det", "\\dfrac{#{}}{#{}}", "\\diagdown", "\\diagup", "\\diamond", "\\diamondsuit", "\\digamma", "\\dim", "\\displaylines", "\\displaystyle", "\\div", "\\divideontimes", "\\dot{#{}}", "\\doteq", "\\doteqdot", "\\dotplus",
            "\\dots", "\\dotsb", "\\dotsc", "\\dotsi", "\\dotsm", "\\dotso", "\\doublebarwedge", "\\downarrow", "\\downdownarrows", "\\downharpoonleft", "\\downharpoonright", "\\ell", "\\emptyset", "\\enspace", "\\epsilon", "\\eqalign{#{}}", "\\eqalignno{#{}}", "\\eqcirc", "\\eqref{#{}}", "\\eqsim", "\\eqslantgtr", "\\eqslantless", "\\equiv", "\\eta", "\\eth", "\\exists", "\\exp", "\\fallingdotseq", "\\flat", "\\forall", "\\frown", "\\gamma", "\\gcd", "\\ge", "\\geq", "\\geqq", "\\geqslant", "\\gets", "\\gg", "\\ggg", "\\gimel", "\\gnapprox", "\\gneq", "\\gneqq", "\\gnsim", "\\grave{#{}}", "\\gtrapprox", "\\gtrdot", "\\gtreqless", "\\gtreqqless", "\\gtrless", "\\gtrsim", "\\gvertneqq", "\\hat{#{}}", "\\hbar", "\\hbox", "\\heartsuit", "\\hfil", "\\hfill", "\\hom", "\\hookleftarrow", "\\hookrightarrow", "\\hphantom{#{}}", "\\hskip", "\\hslash", "\\idotsint", "\\iff",
            "\\iiiint", "\\iiint", "\\iint", "\\imath", "\\impliedby", "\\implies", "\\in", "\\inf", "\\infty", "\\injlim", "\\int\\limits_{#{}}^{#{}}", "\\intercal", "\\iota", "\\it", "\\jmath", "\\kappa", "\\ker", "\\kern", "\\lVert", "\\lambda", "\\land", "\\langle", "\\lbrace", "\\lbrack", "\\lceil", "\\ldotp", "\\ldots", "\\le", "\\left", "\\leftarrow", "\\leftarrowtail", "\\leftharpoondown", "\\leftharpoonup", "\\leftleftarrows", "\\leftrightarrow", "\\leftrightarrows", "\\leftrightharpoons", "\\leftrightsquigarrow", "\\leftroot{#{}}", "\\leftthreetimes", "\\leq", "\\leqalignno{#{}}", "\\leqq", "\\leqslant", "\\lessapprox", "\\lessdot", "\\lesseqgtr", "\\lesseqqgtr", "\\lessgtr", "\\lesssim", "\\let{#{}}{#{}}", "\\lfloor", "\\lg", "\\lgroup", "\\lhd", "\\lim", "\\liminf", "\\limits_{#{}}^{#{}}", "\\limsup", "\\ll", "\\llap{#{}}", "\\llcorner", "\\lll", "\\lmoustache",
            "\\ln", "\\lnapprox", "\\lneq", "\\lneqq", "\\lnot", "\\lnsim", "\\log", "\\longleftarrow", "\\longleftrightarrow", "\\longmapsto", "\\longrightarrow", "\\looparrowleft", "\\looparrowright", "\\lor", "\\lower", "\\lozenge", "\\lrcorner", "\\ltimes", "\\lvert", "\\lvertneqq", "\\maltese", "\\mapsto", "\\mathbb{#{}}", "\\mathbf{#{}}", "\\mathbin", "\\mathcal{#{}}", "\\mathchoice", "\\mathclose", "\\mathfrak{#{}}", "\\mathinner", "\\mathop", "\\mathopen", "\\mathord", "\\mathpunct", "\\mathrel", "\\mathstrut", "\\matrix{#{}}", "\\max", "\\measuredangle", "\\mho", "\\mid", "\\middle", "\\min", "\\mit", "\\mkern", "\\mod", "\\models", "\\moveleft", "\\moveright", "\\mp", "\\mskip", "\\mspace{#{}}", "\\mu", "\\multimap", "\\nLeftarrow", "\\nLeftrightarrow", "\\nRightarrow", "\\nVDash", "\\nVdash", "\\nabla", "\\natural", "\\ncong", "\\ne", "\\nearrow", "\\neg", "\\negmedspace",
            "\\negthickspace", "\\negthinspace", "\\neq", "\\nexists", "\\ngeq", "\\ngeqq", "\\ngeqslant", "\\ngtr", "\\ni", "\\nleftarrow", "\\nleftrightarrow", "\\nleq", "\\nleqq", "\\nleqslant", "\\nless", "\\nmid", "\\nolimits_{#{}}^{#{}}", "\\not", "\\notag", "\\notin", "\\nparallel", "\\nprec", "\\npreceq", "\\nrightarrow", "\\nshortmid", "\\nshortparallel", "\\nsim", "\\nsubseteq", "\\nsubseteqq", "\\nsucc", "\\nsucceq", "\\nsupseteq", "\\nsupseteqq", "\\ntriangleleft", "\\ntrianglelefteq", "\\ntriangleright", "\\ntrianglerighteq", "\\nu", "\\nvDash", "\\nvdash", "\\nwarrow", "\\odot", "\\oint", "\\oldstyle", "\\omega", "\\ominus", "\\operatorname{#{}}", "\\oplus", "\\oslash", "\\otimes", "\\over", "\\overbrace{#{}}", "\\overleftarrow{#{}}", "\\overleftrightarrow{#{}}", "\\overline{#{}}", "\\overrightarrow{#{}}", "\\overset{#{}}{#{}}", "\\overwithdelims", "\\owns",
            "\\parallel", "\\partial", "\\perp", "\\phantom{#{}}", "\\phi", "\\pi", "\\pitchfork", "\\pm", "\\pmatrix{#{}}", "\\pmb{#{}}", "\\pmod", "\\pod", "\\prec", "\\precapprox", "\\preccurlyeq", "\\preceq", "\\precnapprox", "\\precneqq", "\\precnsim", "\\precsim", "\\prime", "\\prod\\limits_{#{}}^{#{}}", "\\projlim", "\\propto", "\\psi", "\\qquad", "\\quad", "\\rVert", "\\raise", "\\rangle", "\\rbrace", "\\rbrack", "\\rceil", "\\rfloor", "\\rgroup", "\\rhd", "\\rho", "\\right", "\\rightarrow", "\\rightarrowtail", "\\rightharpoondown", "\\rightharpoonup", "\\rightleftarrows", "\\rightleftharpoons", "\\rightrightarrows", "\\rightsquigarrow", "\\rightthreetimes", "\\risingdotseq", "\\rlap{#{}}", "\\rm", "\\rmoustache", "\\root #{} \\of #{}", "\\rtimes", "\\rvert", "\\scriptscriptstyle", "\\scriptstyle", "\\searrow", "\\sec", "\\setminus", "\\sharp", "\\shortmid",
            "\\shortparallel", "\\sideset{#{}}{#{}}{#{}}", "\\sigma", "\\sim", "\\simeq", "\\sin", "\\sinh", "\\skew{#{}}{#{}}{#{}}", "\\smallfrown", "\\smallint", "\\smallsetminus", "\\smallsmile", "\\smash{#{}}", "\\smile", "\\space", "\\spadesuit", "\\sphericalangle", "\\sqcap", "\\sqcup", "\\sqrt{#{}}", "\\sqsubset", "\\sqsubseteq", "\\sqsupset", "\\sqsupseteq", "\\square", "\\star", "\\strut", "\\subset", "\\subseteq", "\\subseteqq", "\\subsetneq", "\\subsetneqq", "\\substack{#{}}", "\\succ", "\\succapprox", "\\succcurlyeq", "\\succeq", "\\succnapprox", "\\succneqq", "\\succnsim", "\\succsim", "\\sum\\limits_{#{}}^{#{}}", "\\sup", "\\supset", "\\supseteq", "\\supseteqq", "\\supsetneq", "\\supsetneqq", "\\surd", "\\swarrow", "\\tag{#{}}", "\\tan", "\\tanh", "\\tau", "\\tbinom{#{}}{#{}}", "\\text{#{}}", "\\textstyle", "\\tfrac{#{}}{#{}}", "\\therefore", "\\theta",
            "\\thickapprox", "\\thicksim", "\\thinspace", "\\tilde{#{}}", "\\times", "\\to", "\\top", "\\triangle", "\\triangledown", "\\triangleleft", "\\trianglelefteq", "\\triangleq", "\\triangleright", "\\trianglerighteq", "\\tt", "\\twoheadleftarrow", "\\twoheadrightarrow", "\\ulcorner", "\\underbrace{#{}}", "\\underleftarrow{#{}}", "\\underleftrightarrow{#{}}", "\\underline{#{}}", "\\underrightarrow{#{}}", "\\underset{#{}}{#{}}", "\\unlhd", "\\unrhd", "\\uparrow", "\\updownarrow", "\\upharpoonleft", "\\upharpoonright", "\\uplus", "\\uproot{#{}}", "\\upsilon", "\\upuparrows", "\\urcorner", "\\vDash", "\\varDelta", "\\varGamma", "\\varLambda", "\\varOmega", "\\varPhi", "\\varPi", "\\varPsi", "\\varSigma", "\\varTheta", "\\varUpsilon", "\\varXi", "\\varepsilon", "\\varinjlim", "\\varkappa", "\\varliminf", "\\varlimsup", "\\varnothing", "\\varphi", "\\varpi",
            "\\varprojlim", "\\varpropto", "\\varrho", "\\varsigma", "\\varsubsetneq", "\\varsubsetneqq", "\\varsupsetneq", "\\varsupsetneqq", "\\vartheta", "\\vartriangle", "\\vartriangleleft", "\\vartriangleright", "\\vcenter", "\\vdash", "\\vec{#{}}", "\\vee", "\\veebar", "\\vert", "\\vphantom{#{}}", "\\wedge", "\\widehat{#{}}", "\\widetilde{#{}}", "\\wp", "\\wr", "\\xi", "\\xleftarrow{#{}}", "\\xrightarrow{#{}}", "\\zeta", "\\begin{definition}", "\\begin{tikzcd}", "\\begin{tikzpicture}", "\\begin{align}", "\\begin{align*}", "\\begin{alignat}", "\\begin{alignat*}", "\\begin{aligned}", "\\begin{alignedat}", "\\begin{array}", "\\begin{Bmatrix}", "\\begin{bmatrix}", "\\begin{cases}", "\\begin{CD}", "\\begin{eqnarray}", "\\begin{eqnarray*}", "\\begin{equation}", "\\begin{equation*}", "\\begin{gather}", "\\begin{gather*}", "\\begin{gathered}", "\\begin{matrix}",
            "\\begin{multline}", "\\begin{multline*}", "\\begin{pmatrix}", "\\begin{smallmatrix}", "\\begin{split}", "\\begin{subarray}", "\\begin{Vmatrix}", "\\begin{vmatrix}"];
        return _this;
    }
    return LaTexProvider;
}(Provider));

var Autocomplete = /** @class */ (function () {
    function Autocomplete(settings) {
        var _this = this;
        this.keyMaps = {
            // Override code mirror default key maps
            'Ctrl-P': function () { },
            'Ctrl-N': function () { },
            Down: function () { },
            Up: function () { },
            Enter: function (editor) {
                _this.selectSuggestion(editor);
            },
            Esc: function (editor) {
                _this.removeViewFrom(editor);
                if (editor.getOption('keyMap') === 'vim-insert')
                    editor.operation(function () {
                        // https://github.com/codemirror/CodeMirror/blob/bd37a96d362b8d92895d3960d569168ec39e4165/keymap/vim.js#L5341
                        var vim = editor.state.vim;
                        vim.insertMode = false;
                        editor.setOption('keyMap', 'vim');
                    });
            }
        };
        this.settings = settings;
        this.loadProviders();
        this.suggestions = [];
        this.selected = defaultDirection();
        this.view = null;
    }
    Autocomplete.prototype.isShown = function () {
        return this.view !== null;
    };
    Autocomplete.prototype.toggleViewIn = function (editor) {
        var isEnabled = this.settings.enabled;
        if (this.isShown() || !isEnabled) {
            this.cursorAtTrigger = null;
            this.removeViewFrom(editor);
        }
        else if (isEnabled) {
            var cursor = copyObject(editor.getCursor());
            var currentLine = editor.getLine(cursor.line);
            var wordStartIndex = lastWordStartPos(currentLine, cursor.ch);
            cursor.ch = wordStartIndex;
            this.cursorAtTrigger = cursor;
            var word = lastWordFrom(currentLine, cursor.ch);
            this.showViewIn(editor, word);
        }
    };
    Autocomplete.prototype.updateViewIn = function (editor, event) {
        this.selected = updateSelectedSuggestionFrom(event, this.selected, this.suggestions.length);
        var completionWord = lastWordIn(editor);
        var recreate = completionWord !== this.lastCompletionWord;
        if (recreate) {
            this.lastCompletionWord = completionWord;
            this.showViewIn(editor, completionWord);
        }
        else
            updateCachedView(this.view, this.selected.index);
        scrollTo(this.selected, this.view, this.suggestions.length);
    };
    Autocomplete.prototype.removeViewFrom = function (editor) {
        this.selected = defaultDirection();
        editor.removeKeyMap(this.keyMaps);
        if (!this.view)
            return;
        this.addClickListener(this.view, editor, false);
        try {
            var parentNode = this.view.parentNode;
            if (parentNode) {
                var removed = parentNode.removeChild(this.view);
                if (removed)
                    this.view = null;
            }
        }
        catch (e) {
            console.error("Cannot destroy view. Reason: " + e);
        }
    };
    Autocomplete.prototype.updateProvidersFrom = function (event, editor) {
        if (!event.ctrlKey && Provider.wordSeparatorRegex.test(event.key)) {
            var cursor_1 = copyObject(editor.getCursor());
            if (/Enter/.test(event.key)) {
                cursor_1.line -= 1;
                cursor_1.ch = editor.getLine(cursor_1.line).length;
            }
            var line_1 = editor.getLine(cursor_1.line);
            this.providers.forEach(function (provider) {
                // For now only FlowProvider
                if (provider instanceof FlowProvider)
                    provider.addCompletionWord(line_1, cursor_1.ch);
            });
        }
    };
    Autocomplete.prototype.showViewIn = function (editor, completionWord) {
        if (completionWord === void 0) { completionWord = ''; }
        if (this.view)
            this.removeViewFrom(editor);
        this.suggestions = this.providers.reduce(function (acc, provider) { return acc.concat(provider.matchWith(completionWord || '')); }, []);
        editor.addKeyMap(this.keyMaps);
        this.view = generateView(this.suggestions, this.selected.index);
        this.addClickListener(this.view, editor);
        appendWidget(editor, this.view);
    };
    // TODO: Refactor
    Autocomplete.prototype.addClickListener = function (view, editor, add) {
        var _this = this;
        if (add === void 0) { add = true; }
        if (!this.onClickCallback)
            this.onClickCallback = function (event) {
                var element = event.target;
                var hintId = element.id;
                if (!hintId) {
                    var parent_1 = element.parentNode;
                    if (parent_1 && parent_1.id)
                        hintId = parent_1.id;
                }
                var hintIdPrefix = 'suggestion-';
                if (hintId && hintId.startsWith(hintIdPrefix)) {
                    hintId = hintId.replace(hintIdPrefix, '');
                    var id = parseInt(hintId);
                    if (id && id > 0 && id < _this.suggestions.length) {
                        _this.selected.index = id;
                        _this.selectSuggestion(editor);
                    }
                }
            };
        if (add)
            view.addEventListener('click', this.onClickCallback);
        else
            view.removeEventListener('click', this.onClickCallback);
    };
    Autocomplete.prototype.selectSuggestion = function (editor) {
        var _this = this;
        var _a;
        var cursor = editor.getCursor();
        var selectedValue = (_a = this.suggestions[this.selected.index]) === null || _a === void 0 ? void 0 : _a.value;
        if (!selectedValue) {
            this.removeViewFrom(editor);
            return;
        }
        var _b = managePlaceholders(selectedValue, this.cursorAtTrigger.ch), normalizedValue = _b.normalizedValue, newCursorPosition = _b.newCursorPosition;
        editor.operation(function () {
            editor.replaceRange(normalizedValue, _this.cursorAtTrigger, cursor);
            var updatedCursor = {
                line: cursor.line,
                ch: newCursorPosition
            };
            editor.setCursor(updatedCursor);
        });
        // Need to remove it here because of focus
        this.removeViewFrom(editor);
        editor.focus();
    };
    Autocomplete.prototype.loadProviders = function () {
        var providers = [];
        if (this.settings.latexProvider)
            providers.push(new LaTexProvider());
        if (this.settings.flowProvider)
            providers.push(new FlowProvider());
        this.providers = providers;
    };
    return Autocomplete;
}());

var AutocompleteSettings = /** @class */ (function () {
    function AutocompleteSettings() {
        this.enabled = true;
        this.latexProvider = true;
        this.flowProvider = true;
    }
    return AutocompleteSettings;
}());

var AutocompleteSettingsTab = /** @class */ (function (_super) {
    __extends(AutocompleteSettingsTab, _super);
    function AutocompleteSettingsTab(app, plugin) {
        var _this = _super.call(this, app, plugin) || this;
        _this.plugin = plugin;
        return _this;
    }
    AutocompleteSettingsTab.prototype.display = function () {
        var _this = this;
        var containerEl = this.containerEl;
        containerEl.empty();
        new obsidian.Setting(containerEl)
            .setName('Enabled')
            .setDesc('Set the autocomplete state')
            .addToggle(function (cb) {
            return cb.setValue(_this.plugin.settings.enabled).onChange(function (value) {
                _this.plugin.settings.enabled = value;
                _this.plugin.saveData(_this.plugin.settings);
                _this.plugin.refresh();
            });
        });
        // Providers
        new obsidian.Setting(containerEl)
            .setName('Text Providers')
            .setDesc('The providers below suggest completions based on input. Be aware that enabling multiple providers can decrease performance.')
            .setHeading();
        new obsidian.Setting(containerEl)
            .setClass('no-border-top')
            .setName('LaTex Provider')
            .setDesc('Toggle LaTex suggestions')
            .addToggle(function (cb) {
            return cb.setValue(_this.plugin.settings.latexProvider).onChange(function (value) {
                _this.plugin.settings.latexProvider = value;
                _this.plugin.saveData(_this.plugin.settings);
                _this.plugin.refresh();
            });
        });
        new obsidian.Setting(containerEl)
            .setName('Flow Provider')
            .setDesc('Learns as you type. For now limited to current session.')
            .addToggle(function (cb) {
            return cb.setValue(_this.plugin.settings.flowProvider).onChange(function (value) {
                _this.plugin.settings.flowProvider = value;
                _this.plugin.saveData(_this.plugin.settings);
                _this.plugin.refresh();
            });
        });
    };
    return AutocompleteSettingsTab;
}(obsidian.PluginSettingTab));

var AutocompletePlugin = /** @class */ (function (_super) {
    __extends(AutocompletePlugin, _super);
    function AutocompletePlugin() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.keyUpListener = function (editor, event) {
            var autocomplete = _this.autocomplete;
            autocomplete.updateProvidersFrom(event, editor);
            if (!autocomplete.isShown())
                return;
            _this.updateEditorIfChanged(editor, autocomplete);
            _this.autocomplete.updateViewIn(editor, event);
        };
        return _this;
    }
    AutocompletePlugin.prototype.onload = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _a, _b, _c, _d;
            return __generator(this, function (_e) {
                switch (_e.label) {
                    case 0:
                        console.log('Loading Autocomplete plugin.');
                        _a = this;
                        _c = (_b = Object).assign;
                        _d = [new AutocompleteSettings()];
                        return [4 /*yield*/, this.loadData()];
                    case 1:
                        _a.settings = _c.apply(_b, _d.concat([_e.sent()]));
                        this.addSettingTab(new AutocompleteSettingsTab(this.app, this));
                        if (!this.settings.enabled)
                            return [2 /*return*/];
                        this.enable();
                        this.addCommands();
                        return [2 /*return*/];
                }
            });
        });
    };
    AutocompletePlugin.prototype.onunload = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                console.log('Unloaded Obsidian Autocomplete');
                this.disable();
                return [2 /*return*/];
            });
        });
    };
    AutocompletePlugin.prototype.refresh = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                this.disable();
                this.enable();
                return [2 /*return*/];
            });
        });
    };
    AutocompletePlugin.prototype.addCommands = function () {
        var _this = this;
        this.addCommand({
            id: 'autocomplete-toggle',
            name: 'Toggle Autocomplete',
            hotkeys: [
                {
                    modifiers: ['Ctrl'],
                    key: ' '
                },
            ],
            callback: function () {
                var autocomplete = _this.autocomplete;
                var editor = _this.getValidEditorFor(autocomplete);
                if (editor) {
                    // Do not open on vim normal mode
                    if (editor.getOption('keyMap') === 'vim')
                        return;
                    autocomplete.toggleViewIn(editor);
                }
            }
        });
    };
    AutocompletePlugin.prototype.enable = function () {
        var _this = this;
        this.autocomplete = new Autocomplete(this.settings);
        this.registerCodeMirror(function (editor) {
            editor.on('keyup', _this.keyUpListener);
        });
    };
    AutocompletePlugin.prototype.disable = function () {
        var _this = this;
        var workspace = this.app.workspace;
        workspace.iterateCodeMirrors(function (cm) {
            cm.off('keyup', _this.keyUpListener);
            _this.autocomplete.removeViewFrom(cm);
        });
    };
    AutocompletePlugin.prototype.getValidEditorFor = function (autocomplete) {
        var currentEditor = this.getCurrentEditor();
        if (currentEditor)
            this.updateEditorIfChanged(currentEditor, autocomplete);
        return currentEditor;
    };
    AutocompletePlugin.prototype.updateEditorIfChanged = function (editor, autocomplete) {
        if (!this.lastUsedEditor)
            this.lastUsedEditor = editor;
        if (editor !== this.lastUsedEditor) {
            autocomplete.removeViewFrom(this.lastUsedEditor);
            this.lastUsedEditor = editor;
        }
    };
    AutocompletePlugin.prototype.getCurrentEditor = function () {
        var view = this.app.workspace.getActiveViewOfType(obsidian.MarkdownView);
        return view ? view.sourceMode.cmEditor : null;
    };
    return AutocompletePlugin;
}(obsidian.Plugin));

module.exports = AutocompletePlugin;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsiLi4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIi4uL3NyYy9wcm92aWRlcnMvcHJvdmlkZXIudHMiLCIuLi9zcmMvYXV0b2NvbXBsZXRlL2NvcmUudHMiLCIuLi9zcmMvYXV0b2NvbXBsZXRlL3ZpZXcudHMiLCIuLi9zcmMvcHJvdmlkZXJzL2Zsb3cudHMiLCIuLi9zcmMvcHJvdmlkZXJzL2xhdGV4LnRzIiwiLi4vc3JjL2F1dG9jb21wbGV0ZS50cyIsIi4uL3NyYy9zZXR0aW5ncy9zZXR0aW5ncy50cyIsIi4uL3NyYy9zZXR0aW5ncy9zZXR0aW5ncy10YWIudHMiLCIuLi9zcmMvbWFpbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19jcmVhdGVCaW5kaW5nID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9KTtcclxufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBvW2syXSA9IG1ba107XHJcbn0pO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBvKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sIHApKSBfX2NyZWF0ZUJpbmRpbmcobywgbSwgcCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XHJcbn0pIDogZnVuY3Rpb24obywgdikge1xyXG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XHJcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gZ2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHByaXZhdGVNYXAuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHByaXZhdGVNYXAsIHZhbHVlKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gc2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZU1hcC5zZXQocmVjZWl2ZXIsIHZhbHVlKTtcclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG4iLCJleHBvcnQgYWJzdHJhY3QgY2xhc3MgUHJvdmlkZXIge1xuICBhYnN0cmFjdCByZWFkb25seSBjYXRlZ29yeTogc3RyaW5nXG4gIGFic3RyYWN0IGNvbXBsZXRpb25zOiBBcnJheTxzdHJpbmc+XG5cbiAgc3RhdGljIHJlYWRvbmx5IHdvcmRTZXBhcmF0b3JSZWdleCA9IC8oXFwufCx8O3w6fCd8XCJ8IXxcXD98LXxcXCl8XFxdfFxcfXxcXC98IHxFbnRlcikvXG4gIHN0YXRpYyByZWFkb25seSBwbGFjZWhvbGRlcjogc3RyaW5nID0gJyN7fSdcblxuICBtYXRjaFdpdGgoaW5wdXQ6IHN0cmluZyk6IENvbXBsZXRpb25bXSB7XG4gICAgLy8gVE9ETzogSW1wcm92ZSBmaWx0ZXJpbmcgd2l0aCB3ZWlnaHRzXG4gICAgY29uc3Qgc3VnZ2VzdGlvbnMgPSB0aGlzLmNvbXBsZXRpb25zLmZpbHRlcih2YWwgPT4gdmFsLmluY2x1ZGVzKGlucHV0KSlcbiAgICAgIC5tYXAoc3VnZyA9PiB7XG4gICAgICAgIHJldHVybiB7Y2F0ZWdvcnk6IHRoaXMuY2F0ZWdvcnksIHZhbHVlOiBzdWdnfVxuICAgICAgfSlcbiAgICAgIC5zb3J0KChhLCBiKSA9PiBhLnZhbHVlLmxlbmd0aCAtIGIudmFsdWUubGVuZ3RoKVxuXG4gICAgcmV0dXJuIHN1Z2dlc3Rpb25zXG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb21wbGV0aW9uIHtcbiAgY2F0ZWdvcnk6IHN0cmluZyxcbiAgdmFsdWU6IHN0cmluZ1xufVxuIiwiaW1wb3J0IHsgUHJvdmlkZXIgfSBmcm9tICcuLi9wcm92aWRlcnMvcHJvdmlkZXInXG5cbmV4cG9ydCB0eXBlIERpcmVjdGlvbiA9IHtcbiAgaW5kZXg6IG51bWJlclxuICBkaXJlY3Rpb246ICdmb3J3YXJkJyB8ICdiYWNrd2FyZCcgfCAnc3RpbGwnXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0RGlyZWN0aW9uKCk6IERpcmVjdGlvbiB7XG4gIHJldHVybiB7IGluZGV4OiAwLCBkaXJlY3Rpb246ICdzdGlsbCcgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbGFzdFdvcmRTdGFydFBvcyh0ZXh0OiBzdHJpbmcsIGluZGV4OiBudW1iZXIpOiBudW1iZXIge1xuICBsZXQgd29yZFN0YXJ0SW5kZXggPSBpbmRleFxuICBjb25zdCB3b3JkUmVnZXggPSAvW1xcdyRdKy9cbiAgd2hpbGUgKHdvcmRTdGFydEluZGV4ICYmIHdvcmRSZWdleC50ZXN0KHRleHQuY2hhckF0KHdvcmRTdGFydEluZGV4IC0gMSkpKVxuICAgIHdvcmRTdGFydEluZGV4IC09IDFcblxuICByZXR1cm4gd29yZFN0YXJ0SW5kZXhcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxhc3RXb3JkSW4oZWRpdG9yOiBDb2RlTWlycm9yLkVkaXRvcik6IHN0cmluZyB8IG51bGwge1xuICBjb25zdCBjdXJzb3IgPSBlZGl0b3IuZ2V0Q3Vyc29yKClcbiAgY29uc3QgY3VycmVudExpbmU6IHN0cmluZyA9IGVkaXRvci5nZXRMaW5lKGN1cnNvci5saW5lKVxuXG4gIGNvbnN0IHdvcmQgPSBsYXN0V29yZEZyb20oY3VycmVudExpbmUsIGN1cnNvci5jaClcblxuICByZXR1cm4gd29yZFxufVxuXG5leHBvcnQgZnVuY3Rpb24gbGFzdFdvcmRGcm9tKGxpbmU6IHN0cmluZywgY3Vyc29ySW5kZXg6IG51bWJlcik6IHN0cmluZyB8IG51bGwge1xuICBsZXQgd29yZFN0YXJ0SW5kZXggPSBsYXN0V29yZFN0YXJ0UG9zKGxpbmUsIGN1cnNvckluZGV4KVxuICBsZXQgd29yZDogc3RyaW5nIHwgbnVsbCA9IG51bGxcbiAgaWYgKHdvcmRTdGFydEluZGV4ICE9PSBjdXJzb3JJbmRleClcbiAgICB3b3JkID0gbGluZS5zbGljZSh3b3JkU3RhcnRJbmRleCwgY3Vyc29ySW5kZXgpXG5cbiAgcmV0dXJuIHdvcmRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hbmFnZVBsYWNlaG9sZGVycyhcbiAgc2VsZWN0ZWRWYWx1ZTogc3RyaW5nLFxuICBpbml0aWFsQ3Vyc29ySW5kZXg6IG51bWJlclxuKTogeyBub3JtYWxpemVkVmFsdWU6IHN0cmluZzsgbmV3Q3Vyc29yUG9zaXRpb246IG51bWJlciB9IHtcbiAgbGV0IG5vcm1hbGl6ZWRWYWx1ZTogc3RyaW5nXG4gIGNvbnN0IHBsYWNlaG9sZGVyID0gUHJvdmlkZXIucGxhY2Vob2xkZXJcbiAgbGV0IG5ld0N1cnNvclBvc2l0aW9uID0gaW5pdGlhbEN1cnNvckluZGV4XG5cbiAgY29uc3QgcGxhY2Vob2xkZXJJbmRleCA9IHNlbGVjdGVkVmFsdWUuaW5kZXhPZihwbGFjZWhvbGRlcilcbiAgaWYgKHBsYWNlaG9sZGVySW5kZXggPiAtMSkge1xuICAgIC8vIFRPRE86IE1hbmFnZSBtdWx0aXBsZSBwbGFjZWhvbGRlcnNcbiAgICBjb25zdCBwbGFjZWhvbGRlclJlZ2V4ID0gbmV3IFJlZ0V4cChwbGFjZWhvbGRlciwgJ2cnKVxuICAgIG5vcm1hbGl6ZWRWYWx1ZSA9IHNlbGVjdGVkVmFsdWUucmVwbGFjZShwbGFjZWhvbGRlclJlZ2V4LCAnJylcbiAgICBuZXdDdXJzb3JQb3NpdGlvbiArPSBwbGFjZWhvbGRlckluZGV4XG4gIH0gZWxzZSB7XG4gICAgbm9ybWFsaXplZFZhbHVlID0gc2VsZWN0ZWRWYWx1ZVxuICAgIG5ld0N1cnNvclBvc2l0aW9uICs9IHNlbGVjdGVkVmFsdWUubGVuZ3RoXG4gIH1cblxuICByZXR1cm4geyBub3JtYWxpemVkVmFsdWUsIG5ld0N1cnNvclBvc2l0aW9uIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVNlbGVjdGVkU3VnZ2VzdGlvbkZyb20oXG4gIGV2ZW50OiBLZXlib2FyZEV2ZW50LFxuICBzZWxlY3RlZDogRGlyZWN0aW9uLFxuICBzdWdnZXN0aW9uc0xlbmd0aDogbnVtYmVyXG4pIHtcbiAgbGV0IHVwZGF0ZWRTZWxlY3RlZDogRGlyZWN0aW9uID0gc2VsZWN0ZWRcbiAgc3dpdGNoIChgJHtldmVudC5jdHJsS2V5fSAke2V2ZW50LmtleX1gKSB7XG4gICAgY2FzZSAndHJ1ZSBwJzpcbiAgICBjYXNlICdmYWxzZSBBcnJvd1VwJzpcbiAgICAgIGNvbnN0IGRlY3JlYXNlZCA9IHNlbGVjdGVkLmluZGV4IC0gMVxuICAgICAgdXBkYXRlZFNlbGVjdGVkID0ge1xuICAgICAgICBpbmRleDogZGVjcmVhc2VkIDwgMCA/IHN1Z2dlc3Rpb25zTGVuZ3RoIC0gMSA6IGRlY3JlYXNlZCxcbiAgICAgICAgZGlyZWN0aW9uOiAnYmFja3dhcmQnLFxuICAgICAgfVxuICAgICAgYnJlYWtcbiAgICBjYXNlICd0cnVlIG4nOlxuICAgIGNhc2UgJ2ZhbHNlIEFycm93RG93bic6XG4gICAgICBjb25zdCBpbmNyZWFzZWQgPSBzZWxlY3RlZC5pbmRleCArIDFcbiAgICAgIHVwZGF0ZWRTZWxlY3RlZCA9IHtcbiAgICAgICAgaW5kZXg6IGluY3JlYXNlZCA+PSBzdWdnZXN0aW9uc0xlbmd0aCA/IDAgOiBpbmNyZWFzZWQsXG4gICAgICAgIGRpcmVjdGlvbjogJ2ZvcndhcmQnLFxuICAgICAgfVxuICAgICAgYnJlYWtcbiAgfVxuXG4gIHJldHVybiB1cGRhdGVkU2VsZWN0ZWRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvcHlPYmplY3Qob2JqOiBhbnkpOiBhbnkge1xuICByZXR1cm4geyAuLi5vYmogfVxufVxuIiwiaW1wb3J0IHsgQ29tcGxldGlvbiB9IGZyb20gJy4uL3Byb3ZpZGVycy9wcm92aWRlcidcbmltcG9ydCB7IERpcmVjdGlvbiB9IGZyb20gJy4vY29yZSdcblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlVmlldyhzdWdnZXN0aW9uczogQ29tcGxldGlvbltdLCBzZWxlY3RlZEluZGV4OiBudW1iZXIpIHtcbiAgY29uc3Qgc3VnZ2VzdGlvbnNIdG1sID0gc3VnZ2VzdGlvbnMubWFwKCh0aXA6IENvbXBsZXRpb24sIGluZGV4KSA9PiB7XG4gICAgY29uc3QgaXNTZWxlY3RlZCA9IHNlbGVjdGVkSW5kZXggPT09IGluZGV4XG4gICAgcmV0dXJuIGBcbiAgICAgICAgPGRpdiBpZD1cInN1Z2dlc3Rpb24tJHtpbmRleH1cIiBjbGFzcz1cIm5vLXNwYWNlLXdyYXAgc3VnZ2VzdGlvbi1pdGVtJHtcbiAgICAgIGlzU2VsZWN0ZWQgPyAnIGlzLXNlbGVjdGVkJyA6ICcnXG4gICAgfVwiPlxuICAgICAgICAgIDxkaXYgaWQ9XCJzdWdnZXN0aW9uLSR7aW5kZXh9XCIgY2xhc3M9XCJzdWdnZXN0aW9uLWNvbnRlbnRcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInN1Z2dlc3Rpb24tZmxhaXJcIj4ke3RpcC5jYXRlZ29yeX08L3NwYW4+XG4gICAgICAgICAgJHt0aXAudmFsdWV9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYFxuICB9LCBbXSlcbiAgY29uc3Qgc3VnZ2VzdGlvbnNKb2luZWQgPSBzdWdnZXN0aW9uc0h0bWwuam9pbignXFxuJylcbiAgY29uc3Qgdmlld1N0cmluZyA9IGBcbiAgICAgIDxkaXYgaWQ9XCJzdWdnZXN0aW9uLWxpc3RcIiBjbGFzcz1cInN1Z2dlc3Rpb25cIj5cbiAgICAgICAgJHtcbiAgICAgICAgICBzdWdnZXN0aW9uc0pvaW5lZC5sZW5ndGggPiAwXG4gICAgICAgICAgICA/IHN1Z2dlc3Rpb25zSm9pbmVkXG4gICAgICAgICAgICA6ICc8ZGl2IGNsYXNzPVwibm8tc3VnZ2VzdGlvbnNcIj5ObyBtYXRjaCBmb3VuZDwvZGl2PidcbiAgICAgICAgfVxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwicHJvbXB0LWluc3RydWN0aW9uc1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicHJvbXB0LWluc3RydWN0aW9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJwcm9tcHQtaW5zdHJ1Y3Rpb24tY29tbWFuZFwiPkN0cmwrTiAv4oaRIDwvc3Bhbj5cbiAgICAgICAgICA8c3Bhbj5OZXh0IFN1Z2dlc3Rpb248L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwicHJvbXB0LWluc3RydWN0aW9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJwcm9tcHQtaW5zdHJ1Y3Rpb24tY29tbWFuZFwiPkN0cmwrUCAv4oaTIDwvc3Bhbj5cbiAgICAgICAgICA8c3Bhbj5QcmV2aW91cyBTdWdnZXN0aW9uPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInByb21wdC1pbnN0cnVjdGlvblwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwicHJvbXB0LWluc3RydWN0aW9uLWNvbW1hbmRcIj5FbnRlcjwvc3Bhbj5cbiAgICAgICAgICA8c3Bhbj5TZWxlY3QgU3VnZ2VzdGlvbjwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgXG4gIGNvbnN0IGNvbnRhaW5lck5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBjb250YWluZXJOb2RlLmNsYXNzTGlzdC5hZGQoJ3N1Z2dlc3Rpb24tY29udGFpbmVyJylcbiAgY29udGFpbmVyTm9kZS5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIHZpZXdTdHJpbmcpXG5cbiAgcmV0dXJuIGNvbnRhaW5lck5vZGVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUNhY2hlZFZpZXcodmlldzogSFRNTEVsZW1lbnQsIHNlbGVjdGVkSW5kZXg6IG51bWJlcikge1xuICBjb25zdCBjaGlsZHJlbiA9IHZpZXcuZmlyc3RFbGVtZW50Q2hpbGQ/LmNoaWxkcmVuXG5cbiAgaWYgKCFjaGlsZHJlbikgcmV0dXJuXG5cbiAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGNoaWxkcmVuLmxlbmd0aDsgaW5kZXgrKykge1xuICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baW5kZXhdXG4gICAgY2hpbGQudG9nZ2xlQ2xhc3MoJ2lzLXNlbGVjdGVkJywgaW5kZXggPT09IHNlbGVjdGVkSW5kZXgpXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNjcm9sbFRvKFxuICBzZWxlY3RlZDogRGlyZWN0aW9uLFxuICB2aWV3OiBIVE1MRWxlbWVudCxcbiAgc3VnZ2VzdGlvbnNMZW5ndGg6IG51bWJlclxuKSB7XG4gIGlmICghdmlldyB8fCBzdWdnZXN0aW9uc0xlbmd0aCA9PT0gMCkgcmV0dXJuXG5cbiAgLy8gVE9ETzogSW1wcm92ZSBzY3JvbGxpbmcgd2l0aCBwYWdlIHNpemUgYW5kIGJvdW5kYXJpZXNcblxuICBjb25zdCBwYXJlbnQgPSB2aWV3LmNoaWxkcmVuWzBdXG4gIGNvbnN0IHNlbGVjdGVkSW5kZXggPSBzZWxlY3RlZC5pbmRleFxuICBjb25zdCBjaGlsZCA9IHBhcmVudC5jaGlsZHJlblswXVxuICBpZiAoY2hpbGQpIHtcbiAgICBsZXQgc2Nyb2xsQW1vdW50ID0gY2hpbGQuc2Nyb2xsSGVpZ2h0ICogc2VsZWN0ZWRJbmRleFxuXG4gICAgc3dpdGNoIChzZWxlY3RlZC5kaXJlY3Rpb24pIHtcbiAgICAgIGNhc2UgJ2ZvcndhcmQnOlxuICAgICAgICBpZiAoc2VsZWN0ZWRJbmRleCA9PT0gMClcbiAgICAgICAgICAvLyBFbmQgLT4gU3RhcnRcbiAgICAgICAgICBwYXJlbnQuc2Nyb2xsVG9wID0gMFxuICAgICAgICBlbHNlIHBhcmVudC5zY3JvbGxUb3AgPSBzY3JvbGxBbW91bnRcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2JhY2t3YXJkJzpcbiAgICAgICAgaWYgKHNlbGVjdGVkSW5kZXggPT09IHN1Z2dlc3Rpb25zTGVuZ3RoIC0gMSlcbiAgICAgICAgICAvLyBFbmQgPC0gU3RhcnRcbiAgICAgICAgICBwYXJlbnQuc2Nyb2xsVG9wID0gcGFyZW50LnNjcm9sbEhlaWdodFxuICAgICAgICBlbHNlIHBhcmVudC5zY3JvbGxUb3AgPSBzY3JvbGxBbW91bnRcbiAgICAgICAgYnJlYWtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZFdpZGdldChcbiAgZWRpdG9yOiBDb2RlTWlycm9yLkVkaXRvcixcbiAgdmlldzogSFRNTEVsZW1lbnQsXG4gIHNjcm9sbGFibGUgPSB0cnVlXG4pIHtcbiAgY29uc3QgY3Vyc29yID0gZWRpdG9yLmdldEN1cnNvcigpXG5cbiAgZWRpdG9yLmFkZFdpZGdldCh7IGNoOiBjdXJzb3IuY2gsIGxpbmU6IGN1cnNvci5saW5lIH0sIHZpZXcsIHNjcm9sbGFibGUpXG59XG4iLCJpbXBvcnQgeyBsYXN0V29yZEZyb20gfSBmcm9tICcuLi9hdXRvY29tcGxldGUvY29yZSdcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSAnLi9wcm92aWRlcidcblxuZXhwb3J0IGNsYXNzIEZsb3dQcm92aWRlciBleHRlbmRzIFByb3ZpZGVyIHtcbiAgY2F0ZWdvcnkgPSAnRidcbiAgY29tcGxldGlvbnMgPSBbXVxuXG4gIGFkZENvbXBsZXRpb25Xb3JkKGxpbmU6IHN0cmluZywgY3Vyc29ySW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IHsgbm9ybWFsaXplZCwgdXBkYXRlZEN1cnNvciB9ID0gdGhpcy5ub3JtYWxpemVkTGluZShsaW5lLCBjdXJzb3JJbmRleClcblxuICAgIGNvbnN0IHdvcmQgPSBsYXN0V29yZEZyb20obm9ybWFsaXplZCwgdXBkYXRlZEN1cnNvcilcblxuICAgIGlmICghd29yZCB8fCB0aGlzLmFscmVhZHlBZGRlZCh3b3JkKSkgcmV0dXJuXG5cbiAgICB0aGlzLmNvbXBsZXRpb25zLnB1c2god29yZClcbiAgfVxuXG4gIHByaXZhdGUgbm9ybWFsaXplZExpbmUoXG4gICAgbGluZTogc3RyaW5nLFxuICAgIGN1cnNvckluZGV4OiBudW1iZXJcbiAgKTogeyBub3JtYWxpemVkOiBzdHJpbmc7IHVwZGF0ZWRDdXJzb3I6IG51bWJlciB9IHtcbiAgICBjb25zdCBwYXJ0aWFsTGluZSA9IGxpbmUuc2xpY2UoMCwgY3Vyc29ySW5kZXgpXG4gICAgbGV0IG5vcm1hbGl6ZWQgPSBwYXJ0aWFsTGluZS50cmltRW5kKClcblxuICAgIC8vIFN1YnRyYWN0IGhvdyBtYW55IHNwYWNlcyByZW1vdmVkXG4gICAgbGV0IHVwZGF0ZWRDdXJzb3IgPSBjdXJzb3JJbmRleCAtIChwYXJ0aWFsTGluZS5sZW5ndGggLSBub3JtYWxpemVkLmxlbmd0aClcblxuICAgIGlmIChub3JtYWxpemVkLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHsgbm9ybWFsaXplZDogJycsIHVwZGF0ZWRDdXJzb3I6IDAgfVxuXG4gICAgY29uc3QgbGFzdENoYXIgPSBub3JtYWxpemVkLmNoYXJBdCh1cGRhdGVkQ3Vyc29yIC0gMSlcblxuICAgIGlmIChQcm92aWRlci53b3JkU2VwYXJhdG9yUmVnZXgudGVzdChsYXN0Q2hhcikpIHtcbiAgICAgIHVwZGF0ZWRDdXJzb3IgLT0gMVxuICAgICAgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZWQuc2xpY2UoMCwgdXBkYXRlZEN1cnNvcilcbiAgICB9XG5cbiAgICByZXR1cm4geyBub3JtYWxpemVkLCB1cGRhdGVkQ3Vyc29yIH1cbiAgfVxuXG4gIHByaXZhdGUgYWxyZWFkeUFkZGVkKHdvcmQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNvbXBsZXRpb25zLmluY2x1ZGVzKHdvcmQpXG4gIH1cbn1cbiIsImltcG9ydCB7UHJvdmlkZXJ9IGZyb20gJy4vcHJvdmlkZXInXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMYVRleFByb3ZpZGVyIGV4dGVuZHMgUHJvdmlkZXIge1xuICAgIGNhdGVnb3J5ID0gXCJMXCJcbiAgICBjb21wbGV0aW9ucyA9IFtcIlxcXFxBcnJvd3ZlcnRcIiwgXCJcXFxcQmJia1wiLCBcIlxcXFxCaWdcIiwgXCJcXFxcQmlnZ1wiLCBcIlxcXFxCaWdnbFwiLCBcIlxcXFxCaWdnclwiLCBcIlxcXFxCaWdsXCIsIFwiXFxcXEJpZ21cIiwgXCJcXFxcQmlnclwiLCBcIlxcXFxCb3hcIiwgXCJcXFxcQnVtcGVxXCIsIFwiXFxcXENhcFwiLCBcIlxcXFxjaXRlWyN7fV17I3t9fVwiLCBcIlxcXFxjaXRlXCIsIFwiXFxcXEN1cFwiLCBcIlxcXFxEZWNsYXJlTWF0aE9wZXJhdG9yeyN7fX17I3t9fVwiLCBcIlxcXFxEZWx0YVwiLCBcIlxcXFxEb3duYXJyb3dcIiwgXCJcXFxcRmludlwiLCBcIlxcXFxHYW1lXCIsIFwiXFxcXEdhbW1hXCIsIFwiXFxcXEltXCIsIFwiXFxcXExhbWJkYVwiLCBcIlxcXFxMZWZ0YXJyb3dcIiwgXCJcXFxcTGVmdHJpZ2h0YXJyb3dcIiwgXCJcXFxcTGxlZnRhcnJvd1wiLCBcIlxcXFxMb25nbGVmdGFycm93XCIsIFwiXFxcXExvbmdsZWZ0cmlnaHRhcnJvd1wiLCBcIlxcXFxMb25ncmlnaHRhcnJvd1wiLCBcIlxcXFxMc2hcIiwgXCJcXFxcT21lZ2FcIiwgXCJcXFxcUGhpXCIsIFwiXFxcXFBpXCIsIFwiXFxcXFByXCIsIFwiXFxcXFBzaVwiLCBcIlxcXFxSZVwiLCBcIlxcXFxSaWdodGFycm93XCIsIFwiXFxcXFJyaWdodGFycm93XCIsIFwiXFxcXFJzaFwiLCBcIlxcXFxTXCIsIFwiXFxcXFNpZ21hXCIsIFwiXFxcXFN1YnNldFwiLCBcIlxcXFxTdXBzZXRcIiwgXCJcXFxcVGVYXCIsIFwiXFxcXFRoZXRhXCIsIFwiXFxcXFVwYXJyb3dcIiwgXCJcXFxcVXBkb3duYXJyb3dcIiwgXCJcXFxcVXBzaWxvblwiLCBcIlxcXFxWZGFzaFwiLCBcIlxcXFxWZXJ0XCIsIFwiXFxcXFZ2ZGFzaFwiLCBcIlxcXFxYaVwiLCBcIlxcXFxhYm92ZVwiLCBcIlxcXFxhYm92ZXdpdGhkZWxpbXNcIiwgXCJcXFxcYWN1dGV7I3t9fVwiLCBcIlxcXFxhbGVwaFwiLCBcIlxcXFxhbHBoYVwiLCBcIlxcXFxhbWFsZ1wiLCBcIlxcXFxhbmdsZVwiLCBcIlxcXFxhcHByb3hcIiwgXCJcXFxcYXBwcm94ZXFcIiwgXCJcXFxcYXJjY29zXCIsIFwiXFxcXGFyY3NpblwiLCBcIlxcXFxhcmN0YW5cIiwgXCJcXFxcYXJnXCIsIFwiXFxcXGFycm93dmVydFwiLCBcIlxcXFxhc3RcIiwgXCJcXFxcYXN5bXBcIiwgXCJcXFxcYXRvcFwiLFxuICAgICAgICBcIlxcXFxhdG9wd2l0aGRlbGltc1wiLCBcIlxcXFxiYWNrZXBzaWxvblwiLCBcIlxcXFxiYWNrcHJpbWVcIiwgXCJcXFxcYmFja3NpbVwiLCBcIlxcXFxiYWNrc2ltZXFcIiwgXCJcXFxcYmFja3NsYXNoXCIsIFwiXFxcXGJhcnsje319XCIsIFwiXFxcXGJhcndlZGdlXCIsIFwiXFxcXGJlY2F1c2VcIiwgXCJcXFxcYmV0YVwiLCBcIlxcXFxiZXRoXCIsIFwiXFxcXGJldHdlZW5cIiwgXCJcXFxcYmZcIiwgXCJcXFxcYmlnXCIsIFwiXFxcXGJpZ2NhcFwiLCBcIlxcXFxiaWdjaXJjXCIsIFwiXFxcXGJpZ2N1cFwiLCBcIlxcXFxiaWdnXCIsIFwiXFxcXGJpZ2dsXCIsIFwiXFxcXGJpZ2dtXCIsIFwiXFxcXGJpZ2dyXCIsIFwiXFxcXGJpZ2xcIiwgXCJcXFxcYmlnbVwiLCBcIlxcXFxiaWdvZG90XCIsIFwiXFxcXGJpZ29wbHVzXCIsIFwiXFxcXGJpZ290aW1lc1wiLCBcIlxcXFxiaWdyXFxcXH1cIiwgXCJcXFxcYmlnc3FjdXBcIiwgXCJcXFxcYmlnc3RhclwiLCBcIlxcXFxiaWd0cmlhbmdsZWRvd25cIiwgXCJcXFxcYmlndHJpYW5nbGV1cFwiLCBcIlxcXFxiaWd1cGx1c1wiLCBcIlxcXFxiaWd2ZWVcIiwgXCJcXFxcYmlnd2VkZ2VcIiwgXCJcXFxcYmlub217I3t9fXsje319XCIsIFwiXFxcXGJsYWNrbG96ZW5nZVwiLCBcIlxcXFxibGFja3NxdWFyZVwiLCBcIlxcXFxibGFja3RyaWFuZ2xlXCIsIFwiXFxcXGJsYWNrdHJpYW5nbGVkb3duXCIsIFwiXFxcXGJsYWNrdHJpYW5nbGVsZWZ0XCIsIFwiXFxcXGJsYWNrdHJpYW5nbGVyaWdodFwiLCBcIlxcXFxibW9kXCIsIFwiXFxcXGJvbGRzeW1ib2x7I3t9fVwiLCBcIlxcXFxib3RcIiwgXCJcXFxcYm93dGllXCIsIFwiXFxcXGJveGRvdFwiLCBcIlxcXFxib3hlZHsje319XCIsIFwiXFxcXGJveG1pbnVzXCIsIFwiXFxcXGJveHBsdXNcIiwgXCJcXFxcYm94dGltZXNcIiwgXCJcXFxcYnJhY2VcIiwgXCJcXFxcYnJhY2V2ZXJ0XCIsIFwiXFxcXGJyYWNrXCIsIFwiXFxcXGJyZXZleyN7fX1cIiwgXCJcXFxcYnVpbGRyZWxcIiwgXCJcXFxcYnVsbGV0XCIsIFwiXFxcXGJ1bXBlcVwiLCBcIlxcXFxjYWxcIiwgXCJcXFxcY2FwXCIsIFwiXFxcXGNhc2VzeyN7fX1cIiwgXCJcXFxcY2RvdFwiLCBcIlxcXFxjZG90cFwiLCBcIlxcXFxjZG90c1wiLFxuICAgICAgICBcIlxcXFxjZW50ZXJkb3RcIiwgXCJcXFxcY2ZyYWN7I3t9fXsje319XCIsIFwiXFxcXGNoZWNreyN7fX1cIiwgXCJcXFxcY2hlY2ttYXJrXCIsIFwiXFxcXGNoaVwiLCBcIlxcXFxjaG9vc2VcIiwgXCJcXFxcY2lyY1wiLCBcIlxcXFxjaXJjZXFcIiwgXCJcXFxcY2lyY2xlYXJyb3dsZWZ0XCIsIFwiXFxcXGNpcmNsZWFycm93cmlnaHRcIiwgXCJcXFxcY2lyY2xlZFNcIiwgXCJcXFxcY2lyY2xlZGFzdFwiLCBcIlxcXFxjaXJjbGVkY2lyY1wiLCBcIlxcXFxjaXJjbGVkZGFzaFwiLCBcIlxcXFxjbHVic3VpdFwiLCBcIlxcXFxjb2xvblwiLCBcIlxcXFxjb21wbGVtZW50XCIsIFwiXFxcXGNvbmdcIiwgXCJcXFxcY29wcm9kXCIsIFwiXFxcXGNvc1wiLCBcIlxcXFxjb3NoXCIsIFwiXFxcXGNvdFwiLCBcIlxcXFxjb3RoXCIsIFwiXFxcXGNyXCIsIFwiXFxcXGNzY1wiLCBcIlxcXFxjdXBcIiwgXCJcXFxcY3VybHllcXByZWNcIiwgXCJcXFxcY3VybHllcXN1Y2NcIiwgXCJcXFxcY3VybHl2ZWVcIiwgXCJcXFxcY3VybHl3ZWRnZVwiLCBcIlxcXFxjdXJ2ZWFycm93bGVmdFwiLCBcIlxcXFxjdXJ2ZWFycm93cmlnaHRcIiwgXCJcXFxcZGFnZ2VyXCIsIFwiXFxcXGRhbGV0aFwiLCBcIlxcXFxkYXNobGVmdGFycm93XCIsIFwiXFxcXGRhc2hyaWdodGFycm93XCIsIFwiXFxcXGRhc2h2XCIsIFwiXFxcXGRiaW5vbXsje319eyN7fX1cIiwgXCJcXFxcZGRhZ2dlclwiLCBcIlxcXFxkZGRkb3R7I3t9fVwiLCBcIlxcXFxkZGRvdHsje319XCIsIFwiXFxcXGRkb3R7I3t9fVwiLCBcIlxcXFxkZG90c1wiLCBcIlxcXFxkZWZcIiwgXCJcXFxcZGVnXCIsIFwiXFxcXGRlbHRhXCIsIFwiXFxcXGRldFwiLCBcIlxcXFxkZnJhY3sje319eyN7fX1cIiwgXCJcXFxcZGlhZ2Rvd25cIiwgXCJcXFxcZGlhZ3VwXCIsIFwiXFxcXGRpYW1vbmRcIiwgXCJcXFxcZGlhbW9uZHN1aXRcIiwgXCJcXFxcZGlnYW1tYVwiLCBcIlxcXFxkaW1cIiwgXCJcXFxcZGlzcGxheWxpbmVzXCIsIFwiXFxcXGRpc3BsYXlzdHlsZVwiLCBcIlxcXFxkaXZcIiwgXCJcXFxcZGl2aWRlb250aW1lc1wiLCBcIlxcXFxkb3R7I3t9fVwiLCBcIlxcXFxkb3RlcVwiLCBcIlxcXFxkb3RlcWRvdFwiLCBcIlxcXFxkb3RwbHVzXCIsXG4gICAgICAgIFwiXFxcXGRvdHNcIiwgXCJcXFxcZG90c2JcIiwgXCJcXFxcZG90c2NcIiwgXCJcXFxcZG90c2lcIiwgXCJcXFxcZG90c21cIiwgXCJcXFxcZG90c29cIiwgXCJcXFxcZG91YmxlYmFyd2VkZ2VcIiwgXCJcXFxcZG93bmFycm93XCIsIFwiXFxcXGRvd25kb3duYXJyb3dzXCIsIFwiXFxcXGRvd25oYXJwb29ubGVmdFwiLCBcIlxcXFxkb3duaGFycG9vbnJpZ2h0XCIsIFwiXFxcXGVsbFwiLCBcIlxcXFxlbXB0eXNldFwiLCBcIlxcXFxlbnNwYWNlXCIsIFwiXFxcXGVwc2lsb25cIiwgXCJcXFxcZXFhbGlnbnsje319XCIsIFwiXFxcXGVxYWxpZ25ub3sje319XCIsIFwiXFxcXGVxY2lyY1wiLCBcIlxcXFxlcXJlZnsje319XCIsIFwiXFxcXGVxc2ltXCIsIFwiXFxcXGVxc2xhbnRndHJcIiwgXCJcXFxcZXFzbGFudGxlc3NcIiwgXCJcXFxcZXF1aXZcIiwgXCJcXFxcZXRhXCIsIFwiXFxcXGV0aFwiLCBcIlxcXFxleGlzdHNcIiwgXCJcXFxcZXhwXCIsIFwiXFxcXGZhbGxpbmdkb3RzZXFcIiwgXCJcXFxcZmxhdFwiLCBcIlxcXFxmb3JhbGxcIiwgXCJcXFxcZnJvd25cIiwgXCJcXFxcZ2FtbWFcIiwgXCJcXFxcZ2NkXCIsIFwiXFxcXGdlXCIsIFwiXFxcXGdlcVwiLCBcIlxcXFxnZXFxXCIsIFwiXFxcXGdlcXNsYW50XCIsIFwiXFxcXGdldHNcIiwgXCJcXFxcZ2dcIiwgXCJcXFxcZ2dnXCIsIFwiXFxcXGdpbWVsXCIsIFwiXFxcXGduYXBwcm94XCIsIFwiXFxcXGduZXFcIiwgXCJcXFxcZ25lcXFcIiwgXCJcXFxcZ25zaW1cIiwgXCJcXFxcZ3JhdmV7I3t9fVwiLCBcIlxcXFxndHJhcHByb3hcIiwgXCJcXFxcZ3RyZG90XCIsIFwiXFxcXGd0cmVxbGVzc1wiLCBcIlxcXFxndHJlcXFsZXNzXCIsIFwiXFxcXGd0cmxlc3NcIiwgXCJcXFxcZ3Ryc2ltXCIsIFwiXFxcXGd2ZXJ0bmVxcVwiLCBcIlxcXFxoYXR7I3t9fVwiLCBcIlxcXFxoYmFyXCIsIFwiXFxcXGhib3hcIiwgXCJcXFxcaGVhcnRzdWl0XCIsIFwiXFxcXGhmaWxcIiwgXCJcXFxcaGZpbGxcIiwgXCJcXFxcaG9tXCIsIFwiXFxcXGhvb2tsZWZ0YXJyb3dcIiwgXCJcXFxcaG9va3JpZ2h0YXJyb3dcIiwgXCJcXFxcaHBoYW50b217I3t9fVwiLCBcIlxcXFxoc2tpcFwiLCBcIlxcXFxoc2xhc2hcIiwgXCJcXFxcaWRvdHNpbnRcIiwgXCJcXFxcaWZmXCIsXG4gICAgICAgIFwiXFxcXGlpaWludFwiLCBcIlxcXFxpaWludFwiLCBcIlxcXFxpaW50XCIsIFwiXFxcXGltYXRoXCIsIFwiXFxcXGltcGxpZWRieVwiLCBcIlxcXFxpbXBsaWVzXCIsIFwiXFxcXGluXCIsIFwiXFxcXGluZlwiLCBcIlxcXFxpbmZ0eVwiLCBcIlxcXFxpbmpsaW1cIiwgXCJcXFxcaW50XFxcXGxpbWl0c197I3t9fV57I3t9fVwiLCBcIlxcXFxpbnRlcmNhbFwiLCBcIlxcXFxpb3RhXCIsIFwiXFxcXGl0XCIsIFwiXFxcXGptYXRoXCIsIFwiXFxcXGthcHBhXCIsIFwiXFxcXGtlclwiLCBcIlxcXFxrZXJuXCIsIFwiXFxcXGxWZXJ0XCIsIFwiXFxcXGxhbWJkYVwiLCBcIlxcXFxsYW5kXCIsIFwiXFxcXGxhbmdsZVwiLCBcIlxcXFxsYnJhY2VcIiwgXCJcXFxcbGJyYWNrXCIsIFwiXFxcXGxjZWlsXCIsIFwiXFxcXGxkb3RwXCIsIFwiXFxcXGxkb3RzXCIsIFwiXFxcXGxlXCIsIFwiXFxcXGxlZnRcIiwgXCJcXFxcbGVmdGFycm93XCIsIFwiXFxcXGxlZnRhcnJvd3RhaWxcIiwgXCJcXFxcbGVmdGhhcnBvb25kb3duXCIsIFwiXFxcXGxlZnRoYXJwb29udXBcIiwgXCJcXFxcbGVmdGxlZnRhcnJvd3NcIiwgXCJcXFxcbGVmdHJpZ2h0YXJyb3dcIiwgXCJcXFxcbGVmdHJpZ2h0YXJyb3dzXCIsIFwiXFxcXGxlZnRyaWdodGhhcnBvb25zXCIsIFwiXFxcXGxlZnRyaWdodHNxdWlnYXJyb3dcIiwgXCJcXFxcbGVmdHJvb3R7I3t9fVwiLCBcIlxcXFxsZWZ0dGhyZWV0aW1lc1wiLCBcIlxcXFxsZXFcIiwgXCJcXFxcbGVxYWxpZ25ub3sje319XCIsIFwiXFxcXGxlcXFcIiwgXCJcXFxcbGVxc2xhbnRcIiwgXCJcXFxcbGVzc2FwcHJveFwiLCBcIlxcXFxsZXNzZG90XCIsIFwiXFxcXGxlc3NlcWd0clwiLCBcIlxcXFxsZXNzZXFxZ3RyXCIsIFwiXFxcXGxlc3NndHJcIiwgXCJcXFxcbGVzc3NpbVwiLCBcIlxcXFxsZXR7I3t9fXsje319XCIsIFwiXFxcXGxmbG9vclwiLCBcIlxcXFxsZ1wiLCBcIlxcXFxsZ3JvdXBcIiwgXCJcXFxcbGhkXCIsIFwiXFxcXGxpbVwiLCBcIlxcXFxsaW1pbmZcIiwgXCJcXFxcbGltaXRzX3sje319Xnsje319XCIsIFwiXFxcXGxpbXN1cFwiLCBcIlxcXFxsbFwiLCBcIlxcXFxsbGFweyN7fX1cIiwgXCJcXFxcbGxjb3JuZXJcIiwgXCJcXFxcbGxsXCIsIFwiXFxcXGxtb3VzdGFjaGVcIixcbiAgICAgICAgXCJcXFxcbG5cIiwgXCJcXFxcbG5hcHByb3hcIiwgXCJcXFxcbG5lcVwiLCBcIlxcXFxsbmVxcVwiLCBcIlxcXFxsbm90XCIsIFwiXFxcXGxuc2ltXCIsIFwiXFxcXGxvZ1wiLCBcIlxcXFxsb25nbGVmdGFycm93XCIsIFwiXFxcXGxvbmdsZWZ0cmlnaHRhcnJvd1wiLCBcIlxcXFxsb25nbWFwc3RvXCIsIFwiXFxcXGxvbmdyaWdodGFycm93XCIsIFwiXFxcXGxvb3BhcnJvd2xlZnRcIiwgXCJcXFxcbG9vcGFycm93cmlnaHRcIiwgXCJcXFxcbG9yXCIsIFwiXFxcXGxvd2VyXCIsIFwiXFxcXGxvemVuZ2VcIiwgXCJcXFxcbHJjb3JuZXJcIiwgXCJcXFxcbHRpbWVzXCIsIFwiXFxcXGx2ZXJ0XCIsIFwiXFxcXGx2ZXJ0bmVxcVwiLCBcIlxcXFxtYWx0ZXNlXCIsIFwiXFxcXG1hcHN0b1wiLCBcIlxcXFxtYXRoYmJ7I3t9fVwiLCBcIlxcXFxtYXRoYmZ7I3t9fVwiLCBcIlxcXFxtYXRoYmluXCIsIFwiXFxcXG1hdGhjYWx7I3t9fVwiLCBcIlxcXFxtYXRoY2hvaWNlXCIsIFwiXFxcXG1hdGhjbG9zZVwiLCBcIlxcXFxtYXRoZnJha3sje319XCIsIFwiXFxcXG1hdGhpbm5lclwiLCBcIlxcXFxtYXRob3BcIiwgXCJcXFxcbWF0aG9wZW5cIiwgXCJcXFxcbWF0aG9yZFwiLCBcIlxcXFxtYXRocHVuY3RcIiwgXCJcXFxcbWF0aHJlbFwiLCBcIlxcXFxtYXRoc3RydXRcIiwgXCJcXFxcbWF0cml4eyN7fX1cIiwgXCJcXFxcbWF4XCIsIFwiXFxcXG1lYXN1cmVkYW5nbGVcIiwgXCJcXFxcbWhvXCIsIFwiXFxcXG1pZFwiLCBcIlxcXFxtaWRkbGVcIiwgXCJcXFxcbWluXCIsIFwiXFxcXG1pdFwiLCBcIlxcXFxta2VyblwiLCBcIlxcXFxtb2RcIiwgXCJcXFxcbW9kZWxzXCIsIFwiXFxcXG1vdmVsZWZ0XCIsIFwiXFxcXG1vdmVyaWdodFwiLCBcIlxcXFxtcFwiLCBcIlxcXFxtc2tpcFwiLCBcIlxcXFxtc3BhY2V7I3t9fVwiLCBcIlxcXFxtdVwiLCBcIlxcXFxtdWx0aW1hcFwiLCBcIlxcXFxuTGVmdGFycm93XCIsIFwiXFxcXG5MZWZ0cmlnaHRhcnJvd1wiLCBcIlxcXFxuUmlnaHRhcnJvd1wiLCBcIlxcXFxuVkRhc2hcIiwgXCJcXFxcblZkYXNoXCIsIFwiXFxcXG5hYmxhXCIsIFwiXFxcXG5hdHVyYWxcIiwgXCJcXFxcbmNvbmdcIiwgXCJcXFxcbmVcIiwgXCJcXFxcbmVhcnJvd1wiLCBcIlxcXFxuZWdcIiwgXCJcXFxcbmVnbWVkc3BhY2VcIixcbiAgICAgICAgXCJcXFxcbmVndGhpY2tzcGFjZVwiLCBcIlxcXFxuZWd0aGluc3BhY2VcIiwgXCJcXFxcbmVxXCIsIFwiXFxcXG5leGlzdHNcIiwgXCJcXFxcbmdlcVwiLCBcIlxcXFxuZ2VxcVwiLCBcIlxcXFxuZ2Vxc2xhbnRcIiwgXCJcXFxcbmd0clwiLCBcIlxcXFxuaVwiLCBcIlxcXFxubGVmdGFycm93XCIsIFwiXFxcXG5sZWZ0cmlnaHRhcnJvd1wiLCBcIlxcXFxubGVxXCIsIFwiXFxcXG5sZXFxXCIsIFwiXFxcXG5sZXFzbGFudFwiLCBcIlxcXFxubGVzc1wiLCBcIlxcXFxubWlkXCIsIFwiXFxcXG5vbGltaXRzX3sje319Xnsje319XCIsIFwiXFxcXG5vdFwiLCBcIlxcXFxub3RhZ1wiLCBcIlxcXFxub3RpblwiLCBcIlxcXFxucGFyYWxsZWxcIiwgXCJcXFxcbnByZWNcIiwgXCJcXFxcbnByZWNlcVwiLCBcIlxcXFxucmlnaHRhcnJvd1wiLCBcIlxcXFxuc2hvcnRtaWRcIiwgXCJcXFxcbnNob3J0cGFyYWxsZWxcIiwgXCJcXFxcbnNpbVwiLCBcIlxcXFxuc3Vic2V0ZXFcIiwgXCJcXFxcbnN1YnNldGVxcVwiLCBcIlxcXFxuc3VjY1wiLCBcIlxcXFxuc3VjY2VxXCIsIFwiXFxcXG5zdXBzZXRlcVwiLCBcIlxcXFxuc3Vwc2V0ZXFxXCIsIFwiXFxcXG50cmlhbmdsZWxlZnRcIiwgXCJcXFxcbnRyaWFuZ2xlbGVmdGVxXCIsIFwiXFxcXG50cmlhbmdsZXJpZ2h0XCIsIFwiXFxcXG50cmlhbmdsZXJpZ2h0ZXFcIiwgXCJcXFxcbnVcIiwgXCJcXFxcbnZEYXNoXCIsIFwiXFxcXG52ZGFzaFwiLCBcIlxcXFxud2Fycm93XCIsIFwiXFxcXG9kb3RcIiwgXCJcXFxcb2ludFwiLCBcIlxcXFxvbGRzdHlsZVwiLCBcIlxcXFxvbWVnYVwiLCBcIlxcXFxvbWludXNcIiwgXCJcXFxcb3BlcmF0b3JuYW1leyN7fX1cIiwgXCJcXFxcb3BsdXNcIiwgXCJcXFxcb3NsYXNoXCIsIFwiXFxcXG90aW1lc1wiLCBcIlxcXFxvdmVyXCIsIFwiXFxcXG92ZXJicmFjZXsje319XCIsIFwiXFxcXG92ZXJsZWZ0YXJyb3d7I3t9fVwiLCBcIlxcXFxvdmVybGVmdHJpZ2h0YXJyb3d7I3t9fVwiLCBcIlxcXFxvdmVybGluZXsje319XCIsIFwiXFxcXG92ZXJyaWdodGFycm93eyN7fX1cIiwgXCJcXFxcb3ZlcnNldHsje319eyN7fX1cIiwgXCJcXFxcb3ZlcndpdGhkZWxpbXNcIiwgXCJcXFxcb3duc1wiLFxuICAgICAgICBcIlxcXFxwYXJhbGxlbFwiLCBcIlxcXFxwYXJ0aWFsXCIsIFwiXFxcXHBlcnBcIiwgXCJcXFxccGhhbnRvbXsje319XCIsIFwiXFxcXHBoaVwiLCBcIlxcXFxwaVwiLCBcIlxcXFxwaXRjaGZvcmtcIiwgXCJcXFxccG1cIiwgXCJcXFxccG1hdHJpeHsje319XCIsIFwiXFxcXHBtYnsje319XCIsIFwiXFxcXHBtb2RcIiwgXCJcXFxccG9kXCIsIFwiXFxcXHByZWNcIiwgXCJcXFxccHJlY2FwcHJveFwiLCBcIlxcXFxwcmVjY3VybHllcVwiLCBcIlxcXFxwcmVjZXFcIiwgXCJcXFxccHJlY25hcHByb3hcIiwgXCJcXFxccHJlY25lcXFcIiwgXCJcXFxccHJlY25zaW1cIiwgXCJcXFxccHJlY3NpbVwiLCBcIlxcXFxwcmltZVwiLCBcIlxcXFxwcm9kXFxcXGxpbWl0c197I3t9fV57I3t9fVwiLCBcIlxcXFxwcm9qbGltXCIsIFwiXFxcXHByb3B0b1wiLCBcIlxcXFxwc2lcIiwgXCJcXFxccXF1YWRcIiwgXCJcXFxccXVhZFwiLCBcIlxcXFxyVmVydFwiLCBcIlxcXFxyYWlzZVwiLCBcIlxcXFxyYW5nbGVcIiwgXCJcXFxccmJyYWNlXCIsIFwiXFxcXHJicmFja1wiLCBcIlxcXFxyY2VpbFwiLCBcIlxcXFxyZmxvb3JcIiwgXCJcXFxccmdyb3VwXCIsIFwiXFxcXHJoZFwiLCBcIlxcXFxyaG9cIiwgXCJcXFxccmlnaHRcIiwgXCJcXFxccmlnaHRhcnJvd1wiLCBcIlxcXFxyaWdodGFycm93dGFpbFwiLCBcIlxcXFxyaWdodGhhcnBvb25kb3duXCIsIFwiXFxcXHJpZ2h0aGFycG9vbnVwXCIsIFwiXFxcXHJpZ2h0bGVmdGFycm93c1wiLCBcIlxcXFxyaWdodGxlZnRoYXJwb29uc1wiLCBcIlxcXFxyaWdodHJpZ2h0YXJyb3dzXCIsIFwiXFxcXHJpZ2h0c3F1aWdhcnJvd1wiLCBcIlxcXFxyaWdodHRocmVldGltZXNcIiwgXCJcXFxccmlzaW5nZG90c2VxXCIsIFwiXFxcXHJsYXB7I3t9fVwiLCBcIlxcXFxybVwiLCBcIlxcXFxybW91c3RhY2hlXCIsIFwiXFxcXHJvb3QgI3t9IFxcXFxvZiAje31cIiwgXCJcXFxccnRpbWVzXCIsIFwiXFxcXHJ2ZXJ0XCIsIFwiXFxcXHNjcmlwdHNjcmlwdHN0eWxlXCIsIFwiXFxcXHNjcmlwdHN0eWxlXCIsIFwiXFxcXHNlYXJyb3dcIiwgXCJcXFxcc2VjXCIsIFwiXFxcXHNldG1pbnVzXCIsIFwiXFxcXHNoYXJwXCIsIFwiXFxcXHNob3J0bWlkXCIsXG4gICAgICAgIFwiXFxcXHNob3J0cGFyYWxsZWxcIiwgXCJcXFxcc2lkZXNldHsje319eyN7fX17I3t9fVwiLCBcIlxcXFxzaWdtYVwiLCBcIlxcXFxzaW1cIiwgXCJcXFxcc2ltZXFcIiwgXCJcXFxcc2luXCIsIFwiXFxcXHNpbmhcIiwgXCJcXFxcc2tld3sje319eyN7fX17I3t9fVwiLCBcIlxcXFxzbWFsbGZyb3duXCIsIFwiXFxcXHNtYWxsaW50XCIsIFwiXFxcXHNtYWxsc2V0bWludXNcIiwgXCJcXFxcc21hbGxzbWlsZVwiLCBcIlxcXFxzbWFzaHsje319XCIsIFwiXFxcXHNtaWxlXCIsIFwiXFxcXHNwYWNlXCIsIFwiXFxcXHNwYWRlc3VpdFwiLCBcIlxcXFxzcGhlcmljYWxhbmdsZVwiLCBcIlxcXFxzcWNhcFwiLCBcIlxcXFxzcWN1cFwiLCBcIlxcXFxzcXJ0eyN7fX1cIiwgXCJcXFxcc3FzdWJzZXRcIiwgXCJcXFxcc3FzdWJzZXRlcVwiLCBcIlxcXFxzcXN1cHNldFwiLCBcIlxcXFxzcXN1cHNldGVxXCIsIFwiXFxcXHNxdWFyZVwiLCBcIlxcXFxzdGFyXCIsIFwiXFxcXHN0cnV0XCIsIFwiXFxcXHN1YnNldFwiLCBcIlxcXFxzdWJzZXRlcVwiLCBcIlxcXFxzdWJzZXRlcXFcIiwgXCJcXFxcc3Vic2V0bmVxXCIsIFwiXFxcXHN1YnNldG5lcXFcIiwgXCJcXFxcc3Vic3RhY2t7I3t9fVwiLCBcIlxcXFxzdWNjXCIsIFwiXFxcXHN1Y2NhcHByb3hcIiwgXCJcXFxcc3VjY2N1cmx5ZXFcIiwgXCJcXFxcc3VjY2VxXCIsIFwiXFxcXHN1Y2NuYXBwcm94XCIsIFwiXFxcXHN1Y2NuZXFxXCIsIFwiXFxcXHN1Y2Nuc2ltXCIsIFwiXFxcXHN1Y2NzaW1cIiwgXCJcXFxcc3VtXFxcXGxpbWl0c197I3t9fV57I3t9fVwiLCBcIlxcXFxzdXBcIiwgXCJcXFxcc3Vwc2V0XCIsIFwiXFxcXHN1cHNldGVxXCIsIFwiXFxcXHN1cHNldGVxcVwiLCBcIlxcXFxzdXBzZXRuZXFcIiwgXCJcXFxcc3Vwc2V0bmVxcVwiLCBcIlxcXFxzdXJkXCIsIFwiXFxcXHN3YXJyb3dcIiwgXCJcXFxcdGFneyN7fX1cIiwgXCJcXFxcdGFuXCIsIFwiXFxcXHRhbmhcIiwgXCJcXFxcdGF1XCIsIFwiXFxcXHRiaW5vbXsje319eyN7fX1cIiwgXCJcXFxcdGV4dHsje319XCIsIFwiXFxcXHRleHRzdHlsZVwiLCBcIlxcXFx0ZnJhY3sje319eyN7fX1cIiwgXCJcXFxcdGhlcmVmb3JlXCIsIFwiXFxcXHRoZXRhXCIsXG4gICAgICAgIFwiXFxcXHRoaWNrYXBwcm94XCIsIFwiXFxcXHRoaWNrc2ltXCIsIFwiXFxcXHRoaW5zcGFjZVwiLCBcIlxcXFx0aWxkZXsje319XCIsIFwiXFxcXHRpbWVzXCIsIFwiXFxcXHRvXCIsIFwiXFxcXHRvcFwiLCBcIlxcXFx0cmlhbmdsZVwiLCBcIlxcXFx0cmlhbmdsZWRvd25cIiwgXCJcXFxcdHJpYW5nbGVsZWZ0XCIsIFwiXFxcXHRyaWFuZ2xlbGVmdGVxXCIsIFwiXFxcXHRyaWFuZ2xlcVwiLCBcIlxcXFx0cmlhbmdsZXJpZ2h0XCIsIFwiXFxcXHRyaWFuZ2xlcmlnaHRlcVwiLCBcIlxcXFx0dFwiLCBcIlxcXFx0d29oZWFkbGVmdGFycm93XCIsIFwiXFxcXHR3b2hlYWRyaWdodGFycm93XCIsIFwiXFxcXHVsY29ybmVyXCIsIFwiXFxcXHVuZGVyYnJhY2V7I3t9fVwiLCBcIlxcXFx1bmRlcmxlZnRhcnJvd3sje319XCIsIFwiXFxcXHVuZGVybGVmdHJpZ2h0YXJyb3d7I3t9fVwiLCBcIlxcXFx1bmRlcmxpbmV7I3t9fVwiLCBcIlxcXFx1bmRlcnJpZ2h0YXJyb3d7I3t9fVwiLCBcIlxcXFx1bmRlcnNldHsje319eyN7fX1cIiwgXCJcXFxcdW5saGRcIiwgXCJcXFxcdW5yaGRcIiwgXCJcXFxcdXBhcnJvd1wiLCBcIlxcXFx1cGRvd25hcnJvd1wiLCBcIlxcXFx1cGhhcnBvb25sZWZ0XCIsIFwiXFxcXHVwaGFycG9vbnJpZ2h0XCIsIFwiXFxcXHVwbHVzXCIsIFwiXFxcXHVwcm9vdHsje319XCIsIFwiXFxcXHVwc2lsb25cIiwgXCJcXFxcdXB1cGFycm93c1wiLCBcIlxcXFx1cmNvcm5lclwiLCBcIlxcXFx2RGFzaFwiLCBcIlxcXFx2YXJEZWx0YVwiLCBcIlxcXFx2YXJHYW1tYVwiLCBcIlxcXFx2YXJMYW1iZGFcIiwgXCJcXFxcdmFyT21lZ2FcIiwgXCJcXFxcdmFyUGhpXCIsIFwiXFxcXHZhclBpXCIsIFwiXFxcXHZhclBzaVwiLCBcIlxcXFx2YXJTaWdtYVwiLCBcIlxcXFx2YXJUaGV0YVwiLCBcIlxcXFx2YXJVcHNpbG9uXCIsIFwiXFxcXHZhclhpXCIsIFwiXFxcXHZhcmVwc2lsb25cIiwgXCJcXFxcdmFyaW5qbGltXCIsIFwiXFxcXHZhcmthcHBhXCIsIFwiXFxcXHZhcmxpbWluZlwiLCBcIlxcXFx2YXJsaW1zdXBcIiwgXCJcXFxcdmFybm90aGluZ1wiLCBcIlxcXFx2YXJwaGlcIiwgXCJcXFxcdmFycGlcIixcbiAgICAgICAgXCJcXFxcdmFycHJvamxpbVwiLCBcIlxcXFx2YXJwcm9wdG9cIiwgXCJcXFxcdmFycmhvXCIsIFwiXFxcXHZhcnNpZ21hXCIsIFwiXFxcXHZhcnN1YnNldG5lcVwiLCBcIlxcXFx2YXJzdWJzZXRuZXFxXCIsIFwiXFxcXHZhcnN1cHNldG5lcVwiLCBcIlxcXFx2YXJzdXBzZXRuZXFxXCIsIFwiXFxcXHZhcnRoZXRhXCIsIFwiXFxcXHZhcnRyaWFuZ2xlXCIsIFwiXFxcXHZhcnRyaWFuZ2xlbGVmdFwiLCBcIlxcXFx2YXJ0cmlhbmdsZXJpZ2h0XCIsIFwiXFxcXHZjZW50ZXJcIiwgXCJcXFxcdmRhc2hcIiwgXCJcXFxcdmVjeyN7fX1cIiwgXCJcXFxcdmVlXCIsIFwiXFxcXHZlZWJhclwiLCBcIlxcXFx2ZXJ0XCIsIFwiXFxcXHZwaGFudG9teyN7fX1cIiwgXCJcXFxcd2VkZ2VcIiwgXCJcXFxcd2lkZWhhdHsje319XCIsIFwiXFxcXHdpZGV0aWxkZXsje319XCIsIFwiXFxcXHdwXCIsIFwiXFxcXHdyXCIsIFwiXFxcXHhpXCIsIFwiXFxcXHhsZWZ0YXJyb3d7I3t9fVwiLCBcIlxcXFx4cmlnaHRhcnJvd3sje319XCIsIFwiXFxcXHpldGFcIiwgXCJcXFxcYmVnaW57ZGVmaW5pdGlvbn1cIiwgXCJcXFxcYmVnaW57dGlremNkfVwiLCBcIlxcXFxiZWdpbnt0aWt6cGljdHVyZX1cIiwgXCJcXFxcYmVnaW57YWxpZ259XCIsIFwiXFxcXGJlZ2lue2FsaWduKn1cIiwgXCJcXFxcYmVnaW57YWxpZ25hdH1cIiwgXCJcXFxcYmVnaW57YWxpZ25hdCp9XCIsIFwiXFxcXGJlZ2lue2FsaWduZWR9XCIsIFwiXFxcXGJlZ2lue2FsaWduZWRhdH1cIiwgXCJcXFxcYmVnaW57YXJyYXl9XCIsIFwiXFxcXGJlZ2lue0JtYXRyaXh9XCIsIFwiXFxcXGJlZ2lue2JtYXRyaXh9XCIsIFwiXFxcXGJlZ2lue2Nhc2VzfVwiLCBcIlxcXFxiZWdpbntDRH1cIiwgXCJcXFxcYmVnaW57ZXFuYXJyYXl9XCIsIFwiXFxcXGJlZ2lue2VxbmFycmF5Kn1cIiwgXCJcXFxcYmVnaW57ZXF1YXRpb259XCIsIFwiXFxcXGJlZ2lue2VxdWF0aW9uKn1cIiwgXCJcXFxcYmVnaW57Z2F0aGVyfVwiLCBcIlxcXFxiZWdpbntnYXRoZXIqfVwiLCBcIlxcXFxiZWdpbntnYXRoZXJlZH1cIiwgXCJcXFxcYmVnaW57bWF0cml4fVwiLFxuICAgICAgICBcIlxcXFxiZWdpbnttdWx0bGluZX1cIiwgXCJcXFxcYmVnaW57bXVsdGxpbmUqfVwiLCBcIlxcXFxiZWdpbntwbWF0cml4fVwiLCBcIlxcXFxiZWdpbntzbWFsbG1hdHJpeH1cIiwgXCJcXFxcYmVnaW57c3BsaXR9XCIsIFwiXFxcXGJlZ2lue3N1YmFycmF5fVwiLCBcIlxcXFxiZWdpbntWbWF0cml4fVwiLCBcIlxcXFxiZWdpbnt2bWF0cml4fVwiXVxufVxuIiwiaW1wb3J0IHtcbiAgRGlyZWN0aW9uLFxuICBkZWZhdWx0RGlyZWN0aW9uLFxuICBtYW5hZ2VQbGFjZWhvbGRlcnMsXG4gIHVwZGF0ZVNlbGVjdGVkU3VnZ2VzdGlvbkZyb20sXG4gIGxhc3RXb3JkSW4sXG4gIGNvcHlPYmplY3QsXG4gIGxhc3RXb3JkRnJvbSxcbiAgbGFzdFdvcmRTdGFydFBvcyxcbn0gZnJvbSAnLi9hdXRvY29tcGxldGUvY29yZSdcbmltcG9ydCB7XG4gIGdlbmVyYXRlVmlldyxcbiAgYXBwZW5kV2lkZ2V0LFxuICB1cGRhdGVDYWNoZWRWaWV3LFxuICBzY3JvbGxUbyxcbn0gZnJvbSAnLi9hdXRvY29tcGxldGUvdmlldydcbmltcG9ydCB7IEZsb3dQcm92aWRlciB9IGZyb20gJy4vcHJvdmlkZXJzL2Zsb3cnXG5pbXBvcnQgTGFUZXhQcm92aWRlciBmcm9tICcuL3Byb3ZpZGVycy9sYXRleCdcbmltcG9ydCB7IENvbXBsZXRpb24sIFByb3ZpZGVyIH0gZnJvbSAnLi9wcm92aWRlcnMvcHJvdmlkZXInXG5pbXBvcnQgeyBBdXRvY29tcGxldGVTZXR0aW5ncyB9IGZyb20gJy4vc2V0dGluZ3Mvc2V0dGluZ3MnXG5cbmV4cG9ydCBjbGFzcyBBdXRvY29tcGxldGUge1xuICBwcml2YXRlIHByb3ZpZGVyczogUHJvdmlkZXJbXVxuICBwcml2YXRlIHN1Z2dlc3Rpb25zOiBDb21wbGV0aW9uW11cbiAgcHJpdmF0ZSBzZWxlY3RlZDogRGlyZWN0aW9uXG5cbiAgcHJpdmF0ZSB2aWV3OiBIVE1MRWxlbWVudFxuICBwcml2YXRlIGN1cnNvckF0VHJpZ2dlcj86IENvZGVNaXJyb3IuUG9zaXRpb25cbiAgcHJpdmF0ZSBsYXN0Q29tcGxldGlvbldvcmQ/OiBzdHJpbmdcbiAgcHJpdmF0ZSBvbkNsaWNrQ2FsbGJhY2s6IChldmVudDogTW91c2VFdmVudCkgPT4gdm9pZFxuXG4gIHByaXZhdGUgc2V0dGluZ3M6IEF1dG9jb21wbGV0ZVNldHRpbmdzXG5cbiAgY29uc3RydWN0b3Ioc2V0dGluZ3M6IEF1dG9jb21wbGV0ZVNldHRpbmdzKSB7XG4gICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzXG4gICAgdGhpcy5sb2FkUHJvdmlkZXJzKClcbiAgICB0aGlzLnN1Z2dlc3Rpb25zID0gW11cbiAgICB0aGlzLnNlbGVjdGVkID0gZGVmYXVsdERpcmVjdGlvbigpXG4gICAgdGhpcy52aWV3ID0gbnVsbFxuICB9XG5cbiAgcHVibGljIGlzU2hvd24oKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMudmlldyAhPT0gbnVsbFxuICB9XG5cbiAgcHVibGljIHRvZ2dsZVZpZXdJbihlZGl0b3I6IENvZGVNaXJyb3IuRWRpdG9yKSB7XG4gICAgY29uc3QgaXNFbmFibGVkID0gdGhpcy5zZXR0aW5ncy5lbmFibGVkXG4gICAgaWYgKHRoaXMuaXNTaG93bigpIHx8ICFpc0VuYWJsZWQpIHtcbiAgICAgIHRoaXMuY3Vyc29yQXRUcmlnZ2VyID0gbnVsbFxuICAgICAgdGhpcy5yZW1vdmVWaWV3RnJvbShlZGl0b3IpXG4gICAgfSBlbHNlIGlmIChpc0VuYWJsZWQpIHtcbiAgICAgIGNvbnN0IGN1cnNvciA9IGNvcHlPYmplY3QoZWRpdG9yLmdldEN1cnNvcigpKVxuICAgICAgY29uc3QgY3VycmVudExpbmU6IHN0cmluZyA9IGVkaXRvci5nZXRMaW5lKGN1cnNvci5saW5lKVxuXG4gICAgICBjb25zdCB3b3JkU3RhcnRJbmRleCA9IGxhc3RXb3JkU3RhcnRQb3MoY3VycmVudExpbmUsIGN1cnNvci5jaClcbiAgICAgIGN1cnNvci5jaCA9IHdvcmRTdGFydEluZGV4XG4gICAgICB0aGlzLmN1cnNvckF0VHJpZ2dlciA9IGN1cnNvclxuXG4gICAgICBjb25zdCB3b3JkID0gbGFzdFdvcmRGcm9tKGN1cnJlbnRMaW5lLCBjdXJzb3IuY2gpXG5cbiAgICAgIHRoaXMuc2hvd1ZpZXdJbihlZGl0b3IsIHdvcmQpXG4gICAgfVxuICB9XG5cbiAgcHVibGljIHVwZGF0ZVZpZXdJbihlZGl0b3I6IENvZGVNaXJyb3IuRWRpdG9yLCBldmVudDogS2V5Ym9hcmRFdmVudCkge1xuICAgIHRoaXMuc2VsZWN0ZWQgPSB1cGRhdGVTZWxlY3RlZFN1Z2dlc3Rpb25Gcm9tKFxuICAgICAgZXZlbnQsXG4gICAgICB0aGlzLnNlbGVjdGVkLFxuICAgICAgdGhpcy5zdWdnZXN0aW9ucy5sZW5ndGhcbiAgICApXG5cbiAgICBjb25zdCBjb21wbGV0aW9uV29yZCA9IGxhc3RXb3JkSW4oZWRpdG9yKVxuXG4gICAgY29uc3QgcmVjcmVhdGUgPSBjb21wbGV0aW9uV29yZCAhPT0gdGhpcy5sYXN0Q29tcGxldGlvbldvcmRcbiAgICBpZiAocmVjcmVhdGUpIHtcbiAgICAgIHRoaXMubGFzdENvbXBsZXRpb25Xb3JkID0gY29tcGxldGlvbldvcmRcbiAgICAgIHRoaXMuc2hvd1ZpZXdJbihlZGl0b3IsIGNvbXBsZXRpb25Xb3JkKVxuICAgIH0gZWxzZSB1cGRhdGVDYWNoZWRWaWV3KHRoaXMudmlldywgdGhpcy5zZWxlY3RlZC5pbmRleClcblxuICAgIHNjcm9sbFRvKHRoaXMuc2VsZWN0ZWQsIHRoaXMudmlldywgdGhpcy5zdWdnZXN0aW9ucy5sZW5ndGgpXG4gIH1cblxuICBwdWJsaWMgcmVtb3ZlVmlld0Zyb20oZWRpdG9yOiBDb2RlTWlycm9yLkVkaXRvcikge1xuICAgIHRoaXMuc2VsZWN0ZWQgPSBkZWZhdWx0RGlyZWN0aW9uKClcbiAgICBlZGl0b3IucmVtb3ZlS2V5TWFwKHRoaXMua2V5TWFwcylcblxuICAgIGlmICghdGhpcy52aWV3KSByZXR1cm5cbiAgICB0aGlzLmFkZENsaWNrTGlzdGVuZXIodGhpcy52aWV3LCBlZGl0b3IsIGZhbHNlKVxuICAgIHRyeSB7XG4gICAgICBjb25zdCBwYXJlbnROb2RlID0gdGhpcy52aWV3LnBhcmVudE5vZGVcbiAgICAgIGlmIChwYXJlbnROb2RlKSB7XG4gICAgICAgIGNvbnN0IHJlbW92ZWQgPSBwYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMudmlldylcbiAgICAgICAgaWYgKHJlbW92ZWQpIHRoaXMudmlldyA9IG51bGxcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBDYW5ub3QgZGVzdHJveSB2aWV3LiBSZWFzb246ICR7ZX1gKVxuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyB1cGRhdGVQcm92aWRlcnNGcm9tKGV2ZW50OiBLZXlib2FyZEV2ZW50LCBlZGl0b3I6IENvZGVNaXJyb3IuRWRpdG9yKSB7XG4gICAgaWYgKCFldmVudC5jdHJsS2V5ICYmIFByb3ZpZGVyLndvcmRTZXBhcmF0b3JSZWdleC50ZXN0KGV2ZW50LmtleSkpIHtcbiAgICAgIGNvbnN0IGN1cnNvciA9IGNvcHlPYmplY3QoZWRpdG9yLmdldEN1cnNvcigpKVxuICAgICAgaWYgKC9FbnRlci8udGVzdChldmVudC5rZXkpKSB7XG4gICAgICAgIGN1cnNvci5saW5lIC09IDFcbiAgICAgICAgY3Vyc29yLmNoID0gZWRpdG9yLmdldExpbmUoY3Vyc29yLmxpbmUpLmxlbmd0aFxuICAgICAgfVxuICAgICAgY29uc3QgbGluZSA9IGVkaXRvci5nZXRMaW5lKGN1cnNvci5saW5lKVxuICAgICAgdGhpcy5wcm92aWRlcnMuZm9yRWFjaCgocHJvdmlkZXIpID0+IHtcbiAgICAgICAgLy8gRm9yIG5vdyBvbmx5IEZsb3dQcm92aWRlclxuICAgICAgICBpZiAocHJvdmlkZXIgaW5zdGFuY2VvZiBGbG93UHJvdmlkZXIpXG4gICAgICAgICAgcHJvdmlkZXIuYWRkQ29tcGxldGlvbldvcmQobGluZSwgY3Vyc29yLmNoKVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHNob3dWaWV3SW4oZWRpdG9yOiBDb2RlTWlycm9yLkVkaXRvciwgY29tcGxldGlvbldvcmQ6IHN0cmluZyA9ICcnKSB7XG4gICAgaWYgKHRoaXMudmlldykgdGhpcy5yZW1vdmVWaWV3RnJvbShlZGl0b3IpXG5cbiAgICB0aGlzLnN1Z2dlc3Rpb25zID0gdGhpcy5wcm92aWRlcnMucmVkdWNlKFxuICAgICAgKGFjYywgcHJvdmlkZXIpID0+IGFjYy5jb25jYXQocHJvdmlkZXIubWF0Y2hXaXRoKGNvbXBsZXRpb25Xb3JkIHx8ICcnKSksXG4gICAgICBbXVxuICAgIClcblxuICAgIGVkaXRvci5hZGRLZXlNYXAodGhpcy5rZXlNYXBzKVxuXG4gICAgdGhpcy52aWV3ID0gZ2VuZXJhdGVWaWV3KHRoaXMuc3VnZ2VzdGlvbnMsIHRoaXMuc2VsZWN0ZWQuaW5kZXgpXG4gICAgdGhpcy5hZGRDbGlja0xpc3RlbmVyKHRoaXMudmlldywgZWRpdG9yKVxuICAgIGFwcGVuZFdpZGdldChlZGl0b3IsIHRoaXMudmlldylcbiAgfVxuXG4gIHByaXZhdGUga2V5TWFwcyA9IHtcbiAgICAvLyBPdmVycmlkZSBjb2RlIG1pcnJvciBkZWZhdWx0IGtleSBtYXBzXG4gICAgJ0N0cmwtUCc6ICgpID0+IHt9LFxuICAgICdDdHJsLU4nOiAoKSA9PiB7fSxcbiAgICBEb3duOiAoKSA9PiB7fSxcbiAgICBVcDogKCkgPT4ge30sXG4gICAgRW50ZXI6IChlZGl0b3I6IENvZGVNaXJyb3IuRWRpdG9yKSA9PiB7XG4gICAgICB0aGlzLnNlbGVjdFN1Z2dlc3Rpb24oZWRpdG9yKVxuICAgIH0sXG4gICAgRXNjOiAoZWRpdG9yOiBDb2RlTWlycm9yLkVkaXRvcikgPT4ge1xuICAgICAgdGhpcy5yZW1vdmVWaWV3RnJvbShlZGl0b3IpXG4gICAgICBpZiAoZWRpdG9yLmdldE9wdGlvbigna2V5TWFwJykgPT09ICd2aW0taW5zZXJ0JylcbiAgICAgICAgZWRpdG9yLm9wZXJhdGlvbigoKSA9PiB7XG4gICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2NvZGVtaXJyb3IvQ29kZU1pcnJvci9ibG9iL2JkMzdhOTZkMzYyYjhkOTI4OTVkMzk2MGQ1NjkxNjhlYzM5ZTQxNjUva2V5bWFwL3ZpbS5qcyNMNTM0MVxuICAgICAgICAgIGNvbnN0IHZpbSA9IGVkaXRvci5zdGF0ZS52aW1cbiAgICAgICAgICB2aW0uaW5zZXJ0TW9kZSA9IGZhbHNlXG4gICAgICAgICAgZWRpdG9yLnNldE9wdGlvbigna2V5TWFwJywgJ3ZpbScpXG4gICAgICAgIH0pXG4gICAgfSxcbiAgfVxuXG4gIC8vIFRPRE86IFJlZmFjdG9yXG4gIHByaXZhdGUgYWRkQ2xpY2tMaXN0ZW5lcihcbiAgICB2aWV3OiBIVE1MRWxlbWVudCxcbiAgICBlZGl0b3I6IENvZGVNaXJyb3IuRWRpdG9yLFxuICAgIGFkZCA9IHRydWVcbiAgKSB7XG4gICAgaWYgKCF0aGlzLm9uQ2xpY2tDYWxsYmFjaylcbiAgICAgIHRoaXMub25DbGlja0NhbGxiYWNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnRcbiAgICAgICAgbGV0IGhpbnRJZCA9IGVsZW1lbnQuaWRcbiAgICAgICAgaWYgKCFoaW50SWQpIHtcbiAgICAgICAgICBjb25zdCBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGUgYXMgSFRNTEVsZW1lbnRcbiAgICAgICAgICBpZiAocGFyZW50ICYmIHBhcmVudC5pZCkgaGludElkID0gcGFyZW50LmlkXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBoaW50SWRQcmVmaXggPSAnc3VnZ2VzdGlvbi0nXG4gICAgICAgIGlmIChoaW50SWQgJiYgaGludElkLnN0YXJ0c1dpdGgoaGludElkUHJlZml4KSkge1xuICAgICAgICAgIGhpbnRJZCA9IGhpbnRJZC5yZXBsYWNlKGhpbnRJZFByZWZpeCwgJycpXG4gICAgICAgICAgY29uc3QgaWQgPSBwYXJzZUludChoaW50SWQpXG4gICAgICAgICAgaWYgKGlkICYmIGlkID4gMCAmJiBpZCA8IHRoaXMuc3VnZ2VzdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkLmluZGV4ID0gaWRcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0U3VnZ2VzdGlvbihlZGl0b3IpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICBpZiAoYWRkKSB2aWV3LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkNsaWNrQ2FsbGJhY2spXG4gICAgZWxzZSB2aWV3LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkNsaWNrQ2FsbGJhY2spXG4gIH1cblxuICBwcml2YXRlIHNlbGVjdFN1Z2dlc3Rpb24oZWRpdG9yOiBDb2RlTWlycm9yLkVkaXRvcikge1xuICAgIGNvbnN0IGN1cnNvciA9IGVkaXRvci5nZXRDdXJzb3IoKVxuICAgIGNvbnN0IHNlbGVjdGVkVmFsdWUgPSB0aGlzLnN1Z2dlc3Rpb25zW3RoaXMuc2VsZWN0ZWQuaW5kZXhdPy52YWx1ZVxuXG4gICAgaWYgKCFzZWxlY3RlZFZhbHVlKSB7XG4gICAgICB0aGlzLnJlbW92ZVZpZXdGcm9tKGVkaXRvcilcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IHsgbm9ybWFsaXplZFZhbHVlLCBuZXdDdXJzb3JQb3NpdGlvbiB9ID0gbWFuYWdlUGxhY2Vob2xkZXJzKFxuICAgICAgc2VsZWN0ZWRWYWx1ZSxcbiAgICAgIHRoaXMuY3Vyc29yQXRUcmlnZ2VyIS5jaFxuICAgIClcblxuICAgIGVkaXRvci5vcGVyYXRpb24oKCkgPT4ge1xuICAgICAgZWRpdG9yLnJlcGxhY2VSYW5nZShub3JtYWxpemVkVmFsdWUsIHRoaXMuY3Vyc29yQXRUcmlnZ2VyLCBjdXJzb3IpXG5cbiAgICAgIGNvbnN0IHVwZGF0ZWRDdXJzb3IgPSB7XG4gICAgICAgIGxpbmU6IGN1cnNvci5saW5lLFxuICAgICAgICBjaDogbmV3Q3Vyc29yUG9zaXRpb24sXG4gICAgICB9XG4gICAgICBlZGl0b3Iuc2V0Q3Vyc29yKHVwZGF0ZWRDdXJzb3IpXG4gICAgfSlcbiAgICAvLyBOZWVkIHRvIHJlbW92ZSBpdCBoZXJlIGJlY2F1c2Ugb2YgZm9jdXNcbiAgICB0aGlzLnJlbW92ZVZpZXdGcm9tKGVkaXRvcilcbiAgICBlZGl0b3IuZm9jdXMoKVxuICB9XG5cbiAgcHJpdmF0ZSBsb2FkUHJvdmlkZXJzKCkge1xuICAgIGNvbnN0IHByb3ZpZGVycyA9IFtdXG4gICAgaWYgKHRoaXMuc2V0dGluZ3MubGF0ZXhQcm92aWRlcikgcHJvdmlkZXJzLnB1c2gobmV3IExhVGV4UHJvdmlkZXIoKSlcbiAgICBpZiAodGhpcy5zZXR0aW5ncy5mbG93UHJvdmlkZXIpIHByb3ZpZGVycy5wdXNoKG5ldyBGbG93UHJvdmlkZXIoKSlcblxuICAgIHRoaXMucHJvdmlkZXJzID0gcHJvdmlkZXJzXG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBBdXRvY29tcGxldGVTZXR0aW5ncyB7XG4gIGVuYWJsZWQ6IGJvb2xlYW4gPSB0cnVlXG4gIGxhdGV4UHJvdmlkZXI6IGJvb2xlYW4gPSB0cnVlXG4gIGZsb3dQcm92aWRlcjogYm9vbGVhbiA9IHRydWVcbn1cbiIsImltcG9ydCB7IEFwcCwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZyB9IGZyb20gJ29ic2lkaWFuJ1xuaW1wb3J0IEF1dG9jb21wbGV0ZVBsdWdpbiBmcm9tICcuLi9tYWluJ1xuXG5leHBvcnQgY2xhc3MgQXV0b2NvbXBsZXRlU2V0dGluZ3NUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcbiAgcGx1Z2luOiBBdXRvY29tcGxldGVQbHVnaW5cblxuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBBdXRvY29tcGxldGVQbHVnaW4pIHtcbiAgICBzdXBlcihhcHAsIHBsdWdpbilcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpblxuICB9XG5cbiAgZGlzcGxheSgpOiB2b2lkIHtcbiAgICBjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzXG5cbiAgICBjb250YWluZXJFbC5lbXB0eSgpXG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKCdFbmFibGVkJylcbiAgICAgIC5zZXREZXNjKCdTZXQgdGhlIGF1dG9jb21wbGV0ZSBzdGF0ZScpXG4gICAgICAuYWRkVG9nZ2xlKChjYikgPT5cbiAgICAgICAgY2Iuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlZCkub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlZCA9IHZhbHVlXG4gICAgICAgICAgdGhpcy5wbHVnaW4uc2F2ZURhdGEodGhpcy5wbHVnaW4uc2V0dGluZ3MpXG4gICAgICAgICAgdGhpcy5wbHVnaW4ucmVmcmVzaCgpXG4gICAgICAgIH0pXG4gICAgICApXG5cbiAgICAvLyBQcm92aWRlcnNcbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKCdUZXh0IFByb3ZpZGVycycpXG4gICAgICAuc2V0RGVzYygnVGhlIHByb3ZpZGVycyBiZWxvdyBzdWdnZXN0IGNvbXBsZXRpb25zIGJhc2VkIG9uIGlucHV0LiBCZSBhd2FyZSB0aGF0IGVuYWJsaW5nIG11bHRpcGxlIHByb3ZpZGVycyBjYW4gZGVjcmVhc2UgcGVyZm9ybWFuY2UuJylcbiAgICAgIC5zZXRIZWFkaW5nKClcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldENsYXNzKCduby1ib3JkZXItdG9wJylcbiAgICAgIC5zZXROYW1lKCdMYVRleCBQcm92aWRlcicpXG4gICAgICAuc2V0RGVzYygnVG9nZ2xlIExhVGV4IHN1Z2dlc3Rpb25zJylcbiAgICAgIC5hZGRUb2dnbGUoKGNiKSA9PlxuICAgICAgICBjYi5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYXRleFByb3ZpZGVyKS5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sYXRleFByb3ZpZGVyID0gdmFsdWVcbiAgICAgICAgICB0aGlzLnBsdWdpbi5zYXZlRGF0YSh0aGlzLnBsdWdpbi5zZXR0aW5ncylcbiAgICAgICAgICB0aGlzLnBsdWdpbi5yZWZyZXNoKClcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKCdGbG93IFByb3ZpZGVyJylcbiAgICAgIC5zZXREZXNjKCdMZWFybnMgYXMgeW91IHR5cGUuIEZvciBub3cgbGltaXRlZCB0byBjdXJyZW50IHNlc3Npb24uJylcbiAgICAgIC5hZGRUb2dnbGUoKGNiKSA9PlxuICAgICAgICBjYi5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5mbG93UHJvdmlkZXIpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmZsb3dQcm92aWRlciA9IHZhbHVlXG4gICAgICAgICAgdGhpcy5wbHVnaW4uc2F2ZURhdGEodGhpcy5wbHVnaW4uc2V0dGluZ3MpXG4gICAgICAgICAgdGhpcy5wbHVnaW4ucmVmcmVzaCgpXG4gICAgICAgIH0pXG4gICAgICApXG4gIH1cbn1cbiIsImltcG9ydCB7IE1hcmtkb3duVmlldywgUGx1Z2luIH0gZnJvbSAnb2JzaWRpYW4nXG5pbXBvcnQgeyBBdXRvY29tcGxldGUgfSBmcm9tICcuL2F1dG9jb21wbGV0ZSdcbmltcG9ydCB7IEF1dG9jb21wbGV0ZVNldHRpbmdzIH0gZnJvbSAnLi9zZXR0aW5ncy9zZXR0aW5ncydcbmltcG9ydCB7IEF1dG9jb21wbGV0ZVNldHRpbmdzVGFiIH0gZnJvbSAnLi9zZXR0aW5ncy9zZXR0aW5ncy10YWInXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEF1dG9jb21wbGV0ZVBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG4gIHByaXZhdGUgYXV0b2NvbXBsZXRlOiBBdXRvY29tcGxldGVcbiAgcHJpdmF0ZSBsYXN0VXNlZEVkaXRvcjogQ29kZU1pcnJvci5FZGl0b3JcbiAgc2V0dGluZ3M6IEF1dG9jb21wbGV0ZVNldHRpbmdzXG5cbiAgYXN5bmMgb25sb2FkKCkge1xuICAgIGNvbnNvbGUubG9nKCdMb2FkaW5nIEF1dG9jb21wbGV0ZSBwbHVnaW4uJylcbiAgICB0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbihcbiAgICAgIG5ldyBBdXRvY29tcGxldGVTZXR0aW5ncygpLFxuICAgICAgYXdhaXQgdGhpcy5sb2FkRGF0YSgpXG4gICAgKVxuICAgIHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgQXV0b2NvbXBsZXRlU2V0dGluZ3NUYWIodGhpcy5hcHAsIHRoaXMpKVxuXG4gICAgaWYgKCF0aGlzLnNldHRpbmdzLmVuYWJsZWQpIHJldHVyblxuXG4gICAgdGhpcy5lbmFibGUoKVxuICAgIHRoaXMuYWRkQ29tbWFuZHMoKVxuICB9XG5cbiAgYXN5bmMgb251bmxvYWQoKSB7XG4gICAgY29uc29sZS5sb2coJ1VubG9hZGVkIE9ic2lkaWFuIEF1dG9jb21wbGV0ZScpXG4gICAgdGhpcy5kaXNhYmxlKClcbiAgfVxuXG4gIGFzeW5jIHJlZnJlc2goKSB7XG4gICAgdGhpcy5kaXNhYmxlKClcbiAgICB0aGlzLmVuYWJsZSgpXG4gIH1cblxuICBwcml2YXRlIGFkZENvbW1hbmRzKCkge1xuICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICBpZDogJ2F1dG9jb21wbGV0ZS10b2dnbGUnLFxuICAgICAgbmFtZTogJ1RvZ2dsZSBBdXRvY29tcGxldGUnLFxuICAgICAgaG90a2V5czogW1xuICAgICAgICB7XG4gICAgICAgICAgbW9kaWZpZXJzOiBbJ0N0cmwnXSxcbiAgICAgICAgICBrZXk6ICcgJyxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICBjb25zdCBhdXRvY29tcGxldGUgPSB0aGlzLmF1dG9jb21wbGV0ZVxuICAgICAgICBjb25zdCBlZGl0b3IgPSB0aGlzLmdldFZhbGlkRWRpdG9yRm9yKGF1dG9jb21wbGV0ZSlcblxuICAgICAgICBpZiAoZWRpdG9yKSB7XG4gICAgICAgICAgLy8gRG8gbm90IG9wZW4gb24gdmltIG5vcm1hbCBtb2RlXG4gICAgICAgICAgaWYgKGVkaXRvci5nZXRPcHRpb24oJ2tleU1hcCcpID09PSAndmltJykgcmV0dXJuXG5cbiAgICAgICAgICBhdXRvY29tcGxldGUudG9nZ2xlVmlld0luKGVkaXRvcilcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9KVxuICB9XG5cbiAgZW5hYmxlKCkge1xuICAgIHRoaXMuYXV0b2NvbXBsZXRlID0gbmV3IEF1dG9jb21wbGV0ZSh0aGlzLnNldHRpbmdzKVxuICAgIHRoaXMucmVnaXN0ZXJDb2RlTWlycm9yKChlZGl0b3IpID0+IHtcbiAgICAgIGVkaXRvci5vbigna2V5dXAnLCB0aGlzLmtleVVwTGlzdGVuZXIpXG4gICAgfSlcbiAgfVxuXG4gIGRpc2FibGUoKSB7XG4gICAgY29uc3Qgd29ya3NwYWNlID0gdGhpcy5hcHAud29ya3NwYWNlXG4gICAgd29ya3NwYWNlLml0ZXJhdGVDb2RlTWlycm9ycygoY20pID0+IHtcbiAgICAgIGNtLm9mZigna2V5dXAnLCB0aGlzLmtleVVwTGlzdGVuZXIpXG4gICAgICB0aGlzLmF1dG9jb21wbGV0ZS5yZW1vdmVWaWV3RnJvbShjbSlcbiAgICB9KVxuICB9XG5cbiAgcHJpdmF0ZSBrZXlVcExpc3RlbmVyID0gKGVkaXRvcjogQ29kZU1pcnJvci5FZGl0b3IsIGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgY29uc3QgYXV0b2NvbXBsZXRlID0gdGhpcy5hdXRvY29tcGxldGVcbiAgICBhdXRvY29tcGxldGUudXBkYXRlUHJvdmlkZXJzRnJvbShldmVudCwgZWRpdG9yKVxuXG4gICAgaWYgKCFhdXRvY29tcGxldGUuaXNTaG93bigpKSByZXR1cm5cblxuICAgIHRoaXMudXBkYXRlRWRpdG9ySWZDaGFuZ2VkKGVkaXRvciwgYXV0b2NvbXBsZXRlKVxuXG4gICAgdGhpcy5hdXRvY29tcGxldGUudXBkYXRlVmlld0luKGVkaXRvciwgZXZlbnQpXG4gIH1cblxuICBwcml2YXRlIGdldFZhbGlkRWRpdG9yRm9yKFxuICAgIGF1dG9jb21wbGV0ZTogQXV0b2NvbXBsZXRlXG4gICk6IENvZGVNaXJyb3IuRWRpdG9yIHwgbnVsbCB7XG4gICAgY29uc3QgY3VycmVudEVkaXRvciA9IHRoaXMuZ2V0Q3VycmVudEVkaXRvcigpXG5cbiAgICBpZiAoY3VycmVudEVkaXRvcikgdGhpcy51cGRhdGVFZGl0b3JJZkNoYW5nZWQoY3VycmVudEVkaXRvciwgYXV0b2NvbXBsZXRlKVxuXG4gICAgcmV0dXJuIGN1cnJlbnRFZGl0b3JcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlRWRpdG9ySWZDaGFuZ2VkKFxuICAgIGVkaXRvcjogQ29kZU1pcnJvci5FZGl0b3IsXG4gICAgYXV0b2NvbXBsZXRlOiBBdXRvY29tcGxldGVcbiAgKSB7XG4gICAgaWYgKCF0aGlzLmxhc3RVc2VkRWRpdG9yKSB0aGlzLmxhc3RVc2VkRWRpdG9yID0gZWRpdG9yXG5cbiAgICBpZiAoZWRpdG9yICE9PSB0aGlzLmxhc3RVc2VkRWRpdG9yKSB7XG4gICAgICBhdXRvY29tcGxldGUucmVtb3ZlVmlld0Zyb20odGhpcy5sYXN0VXNlZEVkaXRvcilcbiAgICAgIHRoaXMubGFzdFVzZWRFZGl0b3IgPSBlZGl0b3JcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldEN1cnJlbnRFZGl0b3IoKTogQ29kZU1pcnJvci5FZGl0b3IgfCBudWxsIHtcbiAgICBjb25zdCB2aWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KVxuXG4gICAgcmV0dXJuIHZpZXcgPyB2aWV3LnNvdXJjZU1vZGUuY21FZGl0b3IgOiBudWxsXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJTZXR0aW5nIiwiUGx1Z2luU2V0dGluZ1RhYiIsIk1hcmtkb3duVmlldyIsIlBsdWdpbiJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxhQUFhLEdBQUcsU0FBUyxDQUFDLEVBQUUsQ0FBQyxFQUFFO0FBQ25DLElBQUksYUFBYSxHQUFHLE1BQU0sQ0FBQyxjQUFjO0FBQ3pDLFNBQVMsRUFBRSxTQUFTLEVBQUUsRUFBRSxFQUFFLFlBQVksS0FBSyxJQUFJLFVBQVUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQztBQUNwRixRQUFRLFVBQVUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztBQUMxRyxJQUFJLE9BQU8sYUFBYSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUMvQixDQUFDLENBQUM7QUFDRjtBQUNPLFNBQVMsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUU7QUFDaEMsSUFBSSxhQUFhLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ3hCLElBQUksU0FBUyxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUMsV0FBVyxHQUFHLENBQUMsQ0FBQyxFQUFFO0FBQzNDLElBQUksQ0FBQyxDQUFDLFNBQVMsR0FBRyxDQUFDLEtBQUssSUFBSSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUMsU0FBUyxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQztBQUN6RixDQUFDO0FBQ0Q7QUFDTyxJQUFJLFFBQVEsR0FBRyxXQUFXO0FBQ2pDLElBQUksUUFBUSxHQUFHLE1BQU0sQ0FBQyxNQUFNLElBQUksU0FBUyxRQUFRLENBQUMsQ0FBQyxFQUFFO0FBQ3JELFFBQVEsS0FBSyxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxTQUFTLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDN0QsWUFBWSxDQUFDLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzdCLFlBQVksS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDekYsU0FBUztBQUNULFFBQVEsT0FBTyxDQUFDLENBQUM7QUFDakIsTUFBSztBQUNMLElBQUksT0FBTyxRQUFRLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxTQUFTLENBQUMsQ0FBQztBQUMzQyxFQUFDO0FBNEJEO0FBQ08sU0FBUyxTQUFTLENBQUMsT0FBTyxFQUFFLFVBQVUsRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFFO0FBQzdELElBQUksU0FBUyxLQUFLLENBQUMsS0FBSyxFQUFFLEVBQUUsT0FBTyxLQUFLLFlBQVksQ0FBQyxHQUFHLEtBQUssR0FBRyxJQUFJLENBQUMsQ0FBQyxVQUFVLE9BQU8sRUFBRSxFQUFFLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFO0FBQ2hILElBQUksT0FBTyxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsT0FBTyxDQUFDLEVBQUUsVUFBVSxPQUFPLEVBQUUsTUFBTSxFQUFFO0FBQy9ELFFBQVEsU0FBUyxTQUFTLENBQUMsS0FBSyxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRTtBQUNuRyxRQUFRLFNBQVMsUUFBUSxDQUFDLEtBQUssRUFBRSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRTtBQUN0RyxRQUFRLFNBQVMsSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFLE1BQU0sQ0FBQyxJQUFJLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsUUFBUSxDQUFDLENBQUMsRUFBRTtBQUN0SCxRQUFRLElBQUksQ0FBQyxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxVQUFVLElBQUksRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztBQUM5RSxLQUFLLENBQUMsQ0FBQztBQUNQLENBQUM7QUFDRDtBQUNPLFNBQVMsV0FBVyxDQUFDLE9BQU8sRUFBRSxJQUFJLEVBQUU7QUFDM0MsSUFBSSxJQUFJLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ3JILElBQUksT0FBTyxDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLE9BQU8sTUFBTSxLQUFLLFVBQVUsS0FBSyxDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFHLFdBQVcsRUFBRSxPQUFPLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDN0osSUFBSSxTQUFTLElBQUksQ0FBQyxDQUFDLEVBQUUsRUFBRSxPQUFPLFVBQVUsQ0FBQyxFQUFFLEVBQUUsT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRTtBQUN0RSxJQUFJLFNBQVMsSUFBSSxDQUFDLEVBQUUsRUFBRTtBQUN0QixRQUFRLElBQUksQ0FBQyxFQUFFLE1BQU0sSUFBSSxTQUFTLENBQUMsaUNBQWlDLENBQUMsQ0FBQztBQUN0RSxRQUFRLE9BQU8sQ0FBQyxFQUFFLElBQUk7QUFDdEIsWUFBWSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztBQUN6SyxZQUFZLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDcEQsWUFBWSxRQUFRLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDekIsZ0JBQWdCLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLE1BQU07QUFDOUMsZ0JBQWdCLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLE9BQU8sRUFBRSxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsQ0FBQztBQUN4RSxnQkFBZ0IsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUztBQUNqRSxnQkFBZ0IsS0FBSyxDQUFDLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsU0FBUztBQUNqRSxnQkFBZ0I7QUFDaEIsb0JBQW9CLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxTQUFTLEVBQUU7QUFDaEksb0JBQW9CLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUU7QUFDMUcsb0JBQW9CLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLE1BQU0sRUFBRTtBQUN6RixvQkFBb0IsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENB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
